!function(e,t,r){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r;var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e,t){return e(t={exports:{}},t.exports),t.exports}o((function(e){!function(t){var r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u=t.regeneratorRuntime;if(u)e.exports=u;else{(u=t.regeneratorRuntime=e.exports).wrap=m;var s={},f={};f[i]=function(){return this};var p=Object.getPrototypeOf,l=p&&p(p(j([])));l&&l!==r&&n.call(l,i)&&(f=l);var d=y.prototype=h.prototype=Object.create(f);v.prototype=d.constructor=y,y.constructor=v,y[c]=v.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(d),e},u.awrap=function(e){return{__await:e}},b(w.prototype),w.prototype[a]=function(){return this},u.AsyncIterator=w,u.async=function(e,t,r,n){var o=new w(m(e,t,r,n));return u.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(d),d[c]="Generator",d[i]=function(){return this},d.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},u.values=j,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}}}function m(e,t,r,n){var o=Object.create((t&&t.prototype instanceof h?t:h).prototype),i=new S(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return R()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=g(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),o}function g(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function h(){}function v(){}function y(){}function b(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){var t;this._invoke=function(r,o){function i(){return new Promise((function(t,i){!function t(r,o,i,a){var c=g(e[r],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==typeof s&&n.call(s,"__await")?Promise.resolve(s.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(s).then((function(e){u.value=e,i(u)}),a)}a(c.arg)}(r,o,t,i)}))}return t=t?t.then(i,i):i()}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=g(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())}));function i(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){i(a,n,o,c,u,"next",e)}function u(e){i(a,n,o,c,u,"throw",e)}c(void 0)}))}}var c,u,s,f=function(e){return e&&e.Math==Math&&e},p=f("object"==typeof globalThis&&globalThis)||f("object"==typeof window&&window)||f("object"==typeof self&&self)||f("object"==typeof n&&n)||Function("return this")(),l=function(e){try{return!!e()}catch(e){return!0}},d=!l((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),m={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,h={f:g&&!m.call({1:2},1)?function(e){var t=g(this,e);return!!t&&t.enumerable}:m},v=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},y={}.toString,b=function(e){return y.call(e).slice(8,-1)},w="".split,O=l((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==b(e)?w.call(e,""):Object(e)}:Object,k=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},x=function(e){return O(k(e))},S=function(e){return"object"==typeof e?null!==e:"function"==typeof e},j=function(e,t){if(!S(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!S(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!S(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!S(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},R={}.hasOwnProperty,E=function(e,t){return R.call(e,t)},P=p.document,T=S(P)&&S(P.createElement),A=function(e){return T?P.createElement(e):{}},I=!d&&!l((function(){return 7!=Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a})),N=Object.getOwnPropertyDescriptor,D={f:d?N:function(e,t){if(e=x(e),t=j(t,!0),I)try{return N(e,t)}catch(e){}if(E(e,t))return v(!h.f.call(e,t),e[t])}},L=function(e){if(!S(e))throw TypeError(String(e)+" is not an object");return e},M=Object.defineProperty,C={f:d?M:function(e,t,r){if(L(e),t=j(t,!0),L(r),I)try{return M(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},U=d?function(e,t,r){return C.f(e,t,v(1,r))}:function(e,t,r){return e[t]=r,e},F=function(e,t){try{U(p,e,t)}catch(r){p[e]=t}return t},_=p["__core-js_shared__"]||F("__core-js_shared__",{}),q=o((function(e){(e.exports=function(e,t){return _[e]||(_[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.3.6",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),B=q("native-function-to-string",Function.toString),z=p.WeakMap,V="function"==typeof z&&/native code/.test(B.call(z)),W=0,G=Math.random(),H=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++W+G).toString(36)},$=q("keys"),J=function(e){return $[e]||($[e]=H(e))},Y={};if(V){var Z=new(0,p.WeakMap),Q=Z.get,K=Z.has,X=Z.set;c=function(e,t){return X.call(Z,e,t),t},u=function(e){return Q.call(Z,e)||{}},s=function(e){return K.call(Z,e)}}else{var ee=J("state");Y[ee]=!0,c=function(e,t){return U(e,ee,t),t},u=function(e){return E(e,ee)?e[ee]:{}},s=function(e){return E(e,ee)}}var te,re,ne={set:c,get:u,has:s,enforce:function(e){return s(e)?u(e):c(e,{})},getterFor:function(e){return function(t){var r;if(!S(t)||(r=u(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}},oe=o((function(e){var t=ne.get,r=ne.enforce,n=String(B).split("toString");q("inspectSource",(function(e){return B.call(e)})),(e.exports=function(e,t,o,i){var a=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,u=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||E(o,"name")||U(o,"name",t),r(o).source=n.join("string"==typeof t?t:"")),e!==p?(a?!u&&e[t]&&(c=!0):delete e[t],c?e[t]=o:U(e,t,o)):c?e[t]=o:F(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||B.call(this)}))})),ie=p,ae=function(e){return"function"==typeof e?e:void 0},ce=function(e,t){return arguments.length<2?ae(ie[e])||ae(p[e]):ie[e]&&ie[e][t]||p[e]&&p[e][t]},ue=Math.ceil,se=Math.floor,fe=function(e){return isNaN(e=+e)?0:(e>0?se:ue)(e)},pe=Math.min,le=function(e){return e>0?pe(fe(e),9007199254740991):0},de=Math.max,me=Math.min,ge=function(e,t){var r=fe(e);return r<0?de(r+t,0):me(r,t)},he=function(e){return function(t,r,n){var o,i=x(t),a=le(i.length),c=ge(n,a);if(e&&r!=r){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===r)return e||c||0;return!e&&-1}},ve={includes:he(!0),indexOf:he(!1)},ye=ve.indexOf,be=function(e,t){var r,n=x(e),o=0,i=[];for(r in n)!E(Y,r)&&E(n,r)&&i.push(r);for(;t.length>o;)E(n,r=t[o++])&&(~ye(i,r)||i.push(r));return i},we=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Oe=we.concat("length","prototype"),ke={f:Object.getOwnPropertyNames||function(e){return be(e,Oe)}},xe={f:Object.getOwnPropertySymbols},Se=ce("Reflect","ownKeys")||function(e){var t=ke.f(L(e)),r=xe.f;return r?t.concat(r(e)):t},je=function(e,t){for(var r=Se(t),n=C.f,o=D.f,i=0;i<r.length;i++){var a=r[i];E(e,a)||n(e,a,o(t,a))}},Re=/#|\.prototype\./,Ee=function(e,t){var r=Te[Pe(e)];return r==Ie||r!=Ae&&("function"==typeof t?l(t):!!t)},Pe=Ee.normalize=function(e){return String(e).replace(Re,".").toLowerCase()},Te=Ee.data={},Ae=Ee.NATIVE="N",Ie=Ee.POLYFILL="P",Ne=Ee,De=D.f,Le=function(e,t){var r,n,o,i,a,c=e.target,u=e.global,s=e.stat;if(r=u?p:s?p[c]||F(c,{}):(p[c]||{}).prototype)for(n in t){if(i=t[n],o=e.noTargetGet?(a=De(r,n))&&a.value:r[n],!Ne(u?n:c+(s?".":"#")+n,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;je(i,o)}(e.sham||o&&o.sham)&&U(i,"sham",!0),oe(r,n,i,e)}},Me=Array.isArray||function(e){return"Array"==b(e)},Ce=function(e){return Object(k(e))},Ue=function(e,t,r){var n=j(t);n in e?C.f(e,n,v(0,r)):e[n]=r},Fe=!!Object.getOwnPropertySymbols&&!l((function(){return!String(Symbol())})),_e=p.Symbol,qe=q("wks"),Be=function(e){return qe[e]||(qe[e]=Fe&&_e[e]||(Fe?_e:H)("Symbol."+e))},ze=Be("species"),Ve=function(e,t){var r;return Me(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!Me(r.prototype)?S(r)&&null===(r=r[ze])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)},We=ce("navigator","userAgent")||"",Ge=p.process,He=Ge&&Ge.versions,$e=He&&He.v8;$e?re=(te=$e.split("."))[0]+te[1]:We&&(!(te=We.match(/Edge\/(\d+)/))||te[1]>=74)&&(te=We.match(/Chrome\/(\d+)/))&&(re=te[1]);var Je=re&&+re,Ye=Be("species"),Ze=function(e){return Je>=51||!l((function(){var t=[];return(t.constructor={})[Ye]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Qe=Be("isConcatSpreadable"),Ke=Je>=51||!l((function(){var e=[];return e[Qe]=!1,e.concat()[0]!==e})),Xe=Ze("concat"),et=function(e){if(!S(e))return!1;var t=e[Qe];return void 0!==t?!!t:Me(e)};Le({target:"Array",proto:!0,forced:!Ke||!Xe},{concat:function(e){var t,r,n,o,i,a=Ce(this),c=Ve(a,0),u=0;for(t=-1,n=arguments.length;t<n;t++)if(et(i=-1===t?a:arguments[t])){if(u+(o=le(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,u++)r in i&&Ue(c,u,i[r])}else{if(u>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Ue(c,u++,i)}return c.length=u,c}});var tt=Be("toStringTag"),rt="Arguments"==b(function(){return arguments}()),nt=function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),tt))?r:rt?b(t):"Object"==(n=b(t))&&"function"==typeof t.callee?"Arguments":n},ot={};ot[Be("toStringTag")]="z";var it="[object z]"!==String(ot)?function(){return"[object "+nt(this)+"]"}:ot.toString,at=Object.prototype;it!==at.toString&&oe(at,"toString",it,{unsafe:!0});var ct={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ut=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},st=function(e,t,r){if(ut(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}},ft=[].push,pt=function(e){var t=1==e,r=2==e,n=3==e,o=4==e,i=6==e,a=5==e||i;return function(c,u,s,f){for(var p,l,d=Ce(c),m=O(d),g=st(u,s,3),h=le(m.length),v=0,y=f||Ve,b=t?y(c,h):r?y(c,0):void 0;h>v;v++)if((a||v in m)&&(l=g(p=m[v],v,d),e))if(t)b[v]=l;else if(l)switch(e){case 3:return!0;case 5:return p;case 6:return v;case 2:ft.call(b,p)}else if(o)return!1;return i?-1:n||o?o:b}},lt={forEach:pt(0),map:pt(1),filter:pt(2),some:pt(3),every:pt(4),find:pt(5),findIndex:pt(6)},dt=function(e,t){var r=[][e];return!r||!l((function(){r.call(null,t||function(){throw 1},1)}))},mt=lt.forEach,gt=dt("forEach")?function(e){return mt(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach;for(var ht in ct){var vt=p[ht],yt=vt&&vt.prototype;if(yt&&yt.forEach!==gt)try{U(yt,"forEach",gt)}catch(e){yt.forEach=gt}}var bt=Object.prototype.toString;function wt(e){return"[object Array]"===bt.call(e)}function Ot(e){return null!==e&&"object"==typeof e}function kt(e){return"[object Function]"===bt.call(e)}function xt(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),wt(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var St={isArray:wt,isArrayBuffer:function(e){return"[object ArrayBuffer]"===bt.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Ot,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===bt.call(e)},isFile:function(e){return"[object File]"===bt.call(e)},isBlob:function(e){return"[object Blob]"===bt.call(e)},isFunction:kt,isStream:function(e){return Ot(e)&&kt(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:xt,merge:function e(){var t={};function r(r,n){t[n]="object"==typeof t[n]&&"object"==typeof r?e(t[n],r):r}for(var n=0,o=arguments.length;n<o;n++)xt(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){t[n]="object"==typeof t[n]&&"object"==typeof r?e(t[n],r):"object"==typeof r?e({},r):r}for(var n=0,o=arguments.length;n<o;n++)xt(arguments[n],r);return t},extend:function(e,t,r){return xt(t,(function(t,n){e[n]=r&&"function"==typeof t?function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}},jt=function(e,t,r,n,o){return function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,r,n,o)};function Rt(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Et=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(St.isURLSearchParams(t))n=t.toString();else{var o=[];St.forEach(t,(function(e,t){null!=e&&(St.isArray(e)?t+="[]":e=[e],St.forEach(e,(function(e){St.isDate(e)?e=e.toISOString():St.isObject(e)&&(e=JSON.stringify(e)),o.push(Rt(t)+"="+Rt(e))})))})),n=o.join("&")}if(n){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e};var Pt=Object.keys||function(e){return be(e,we)},Tt=d?Object.defineProperties:function(e,t){L(e);for(var r,n=Pt(t),o=n.length,i=0;o>i;)C.f(e,r=n[i++],t[r]);return e},At=ce("document","documentElement"),It=J("IE_PROTO"),Nt=function(){},Dt=function(){var e,t=A("iframe"),r=we.length;for(t.style.display="none",At.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),Dt=e.F;r--;)delete Dt.prototype[we[r]];return Dt()},Lt=Object.create||function(e,t){var r;return null!==e?(Nt.prototype=L(e),r=new Nt,Nt.prototype=null,r[It]=e):r=Dt(),void 0===t?r:Tt(r,t)};Y[It]=!0;var Mt=ke.f,Ct={}.toString,Ut="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ft={f:function(e){return Ut&&"[object Window]"==Ct.call(e)?function(e){try{return Mt(e)}catch(e){return Ut.slice()}}(e):Mt(x(e))}},_t={f:Be},qt=C.f,Bt=function(e){var t=ie.Symbol||(ie.Symbol={});E(t,e)||qt(t,e,{value:_t.f(e)})},zt=C.f,Vt=Be("toStringTag"),Wt=function(e,t,r){e&&!E(e=r?e:e.prototype,Vt)&&zt(e,Vt,{configurable:!0,value:t})},Gt=lt.forEach,Ht=J("hidden"),$t=Be("toPrimitive"),Jt=ne.set,Yt=ne.getterFor("Symbol"),Zt=Object.prototype,Qt=p.Symbol,Kt=p.JSON,Xt=Kt&&Kt.stringify,er=D.f,tr=C.f,rr=Ft.f,nr=h.f,or=q("symbols"),ir=q("op-symbols"),ar=q("string-to-symbol-registry"),cr=q("symbol-to-string-registry"),ur=q("wks"),sr=p.QObject,fr=!sr||!sr.prototype||!sr.prototype.findChild,pr=d&&l((function(){return 7!=Lt(tr({},"a",{get:function(){return tr(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=er(Zt,t);n&&delete Zt[t],tr(e,t,r),n&&e!==Zt&&tr(Zt,t,n)}:tr,lr=function(e,t){var r=or[e]=Lt(Qt.prototype);return Jt(r,{type:"Symbol",tag:e,description:t}),d||(r.description=t),r},dr=Fe&&"symbol"==typeof Qt.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Qt},mr=function(e,t,r){e===Zt&&mr(ir,t,r),L(e);var n=j(t,!0);return L(r),E(or,n)?(r.enumerable?(E(e,Ht)&&e[Ht][n]&&(e[Ht][n]=!1),r=Lt(r,{enumerable:v(0,!1)})):(E(e,Ht)||tr(e,Ht,v(1,{})),e[Ht][n]=!0),pr(e,n,r)):tr(e,n,r)},gr=function(e,t){L(e);var r=x(t),n=Pt(r).concat(br(r));return Gt(n,(function(t){d&&!hr.call(r,t)||mr(e,t,r[t])})),e},hr=function(e){var t=j(e,!0),r=nr.call(this,t);return!(this===Zt&&E(or,t)&&!E(ir,t))&&(!(r||!E(this,t)||!E(or,t)||E(this,Ht)&&this[Ht][t])||r)},vr=function(e,t){var r=x(e),n=j(t,!0);if(r!==Zt||!E(or,n)||E(ir,n)){var o=er(r,n);return!o||!E(or,n)||E(r,Ht)&&r[Ht][n]||(o.enumerable=!0),o}},yr=function(e){var t=rr(x(e)),r=[];return Gt(t,(function(e){E(or,e)||E(Y,e)||r.push(e)})),r},br=function(e){var t=e===Zt,r=rr(t?ir:x(e)),n=[];return Gt(r,(function(e){!E(or,e)||t&&!E(Zt,e)||n.push(or[e])})),n};Fe||(oe((Qt=function(){if(this instanceof Qt)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=H(e),r=function(e){this===Zt&&r.call(ir,e),E(this,Ht)&&E(this[Ht],t)&&(this[Ht][t]=!1),pr(this,t,v(1,e))};return d&&fr&&pr(Zt,t,{configurable:!0,set:r}),lr(t,e)}).prototype,"toString",(function(){return Yt(this).tag})),h.f=hr,C.f=mr,D.f=vr,ke.f=Ft.f=yr,xe.f=br,d&&(tr(Qt.prototype,"description",{configurable:!0,get:function(){return Yt(this).description}}),oe(Zt,"propertyIsEnumerable",hr,{unsafe:!0})),_t.f=function(e){return lr(Be(e),e)}),Le({global:!0,wrap:!0,forced:!Fe,sham:!Fe},{Symbol:Qt}),Gt(Pt(ur),(function(e){Bt(e)})),Le({target:"Symbol",stat:!0,forced:!Fe},{for:function(e){var t=String(e);if(E(ar,t))return ar[t];var r=Qt(t);return ar[t]=r,cr[r]=t,r},keyFor:function(e){if(!dr(e))throw TypeError(e+" is not a symbol");if(E(cr,e))return cr[e]},useSetter:function(){fr=!0},useSimple:function(){fr=!1}}),Le({target:"Object",stat:!0,forced:!Fe,sham:!d},{create:function(e,t){return void 0===t?Lt(e):gr(Lt(e),t)},defineProperty:mr,defineProperties:gr,getOwnPropertyDescriptor:vr}),Le({target:"Object",stat:!0,forced:!Fe},{getOwnPropertyNames:yr,getOwnPropertySymbols:br}),Le({target:"Object",stat:!0,forced:l((function(){xe.f(1)}))},{getOwnPropertySymbols:function(e){return xe.f(Ce(e))}}),Kt&&Le({target:"JSON",stat:!0,forced:!Fe||l((function(){var e=Qt();return"[null]"!=Xt([e])||"{}"!=Xt({a:e})||"{}"!=Xt(Object(e))}))},{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(S(t)||void 0!==e)&&!dr(e))return Me(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!dr(t))return t}),n[1]=t,Xt.apply(Kt,n)}}),Qt.prototype[$t]||U(Qt.prototype,$t,Qt.prototype.valueOf),Wt(Qt,"Symbol"),Y[Ht]=!0;var wr=lt.filter;Le({target:"Array",proto:!0,forced:!Ze("filter")},{filter:function(e){return wr(this,e,arguments.length>1?arguments[1]:void 0)}});var Or=Be("unscopables"),kr=Array.prototype;null==kr[Or]&&U(kr,Or,Lt(null));var xr=function(e){kr[Or][e]=!0},Sr=ve.includes;Le({target:"Array",proto:!0},{includes:function(e){return Sr(this,e,arguments.length>1?arguments[1]:void 0)}}),xr("includes");var jr=ve.indexOf,Rr=[].indexOf,Er=!!Rr&&1/[1].indexOf(1,-0)<0,Pr=dt("indexOf");Le({target:"Array",proto:!0,forced:Er||Pr},{indexOf:function(e){return Er?Rr.apply(this,arguments)||0:jr(this,e,arguments.length>1?arguments[1]:void 0)}});var Tr=D.f,Ar=l((function(){Tr(1)}));Le({target:"Object",stat:!0,forced:!d||Ar,sham:!d},{getOwnPropertyDescriptor:function(e,t){return Tr(x(e),t)}}),Le({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(e){for(var t,r,n=x(e),o=D.f,i=Se(n),a={},c=0;i.length>c;)void 0!==(r=o(n,t=i[c++]))&&Ue(a,t,r);return a}});var Ir,Nr=l((function(){Pt(1)}));function Dr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Le({target:"Object",stat:!0,forced:Nr},{keys:function(e){return Pt(Ce(e))}}),function(e){e[e.kUnknown=0]="kUnknown",e[e.kWechat=1]="kWechat",e[e.kAlipay=2]="kAlipay",e[e.kBaidu=3]="kBaidu"}(Ir||(Ir={}));var Mr=function(){switch(!0){case"object"===("undefined"==typeof wx?"undefined":Lr(wx)):return Ir.kWechat;case"object"===("undefined"==typeof swan?"undefined":Lr(swan)):return Ir.kBaidu;case"object"===("undefined"==typeof my?"undefined":Lr(my)):return Ir.kAlipay;default:return Ir.kUnknown}}(),Cr=Mr===Ir.kWechat?wx.request.bind(wx):Mr===Ir.kAlipay?(my.request||my.httpRequest).bind(my):Mr===Ir.kBaidu?swan.request.bind(swan):void 0;function Ur(){var e;return{send:function(t){Cr&&(e=Cr(t))},abort:function(){e&&e.abort()}}}function Fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _r(e){var t,r,n,o,i,a,c=Ur();return{send:function(u){c.send(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},u,{success:function(t){var r=t.statusCode||t.status||200;a&&a({data:t.data,status:r,statusText:200===r?"OK":400===r?"Bad Request":"",headers:t.header||t.headers,config:e,request:u})},fail:function(t){var r=!1,a=!1;switch(Mr){case Ir.kWechat:-1!==t.errMsg.indexOf("request:fail abort")?r=!0:-1!==t.errMsg.indexOf("timeout")&&(a=!0);break;case Ir.kAlipay:[14,19].includes(t.error)?r=!0:[13].includes(t.error)&&(a=!0)}var c=r?jt("Request aborted",e,"ECONNABORTED",""):a?jt("Request Timeout",e,"ECONNABORTED",""):jt("Network Error",e,null,"");r&&n&&n(c),a&&i&&i(c),o&&o(c)},complete:function(){t&&(clearTimeout(t),t=void 0)}})),r&&(t=setTimeout((function(){i&&i(jt("timeout of ".concat(e.timeout||0,"ms exceeded"),e,"ECONNABORTED","")),t=void 0}),r))},abort:function(){c.abort()},set timeout(e){r=e},set onabort(e){n=e},set onerror(e){o=e},set ontimeout(e){i=e},set onsuccess(e){a=e}}}function qr(e){return new Promise((function(t,r){var n=e.url,o=e.data,i=e.headers,a=e.method,c=e.params,u=e.paramsSerializer,s=e.responseType,f=e.timeout,p=e.cancelToken;if(e.auth){var l=[e.auth.username||"",e.auth.password||""],d=l[1];i.Authorization="Basic ".concat(function(e){for(var t,r,n=String(e),o=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a="";n.charAt(0|o)||(i="=",o%1);a+=i.charAt(63&t>>8-o%1*8)){if((r=n.charCodeAt(o+=.75))>255)throw new Error('"btoa" failed: The string to be encoded contains characters outside of the Latin1 range.');t=t<<8|r}return a}("".concat(l[0],":").concat(d)))}St.forEach(i,(function(e,t){var r=t.toLowerCase();(void 0===o&&"content-type"===r||"referer"===r)&&delete i[t]}));var m,g=_r(e),h={url:Et(n,c,u),header:i,method:a&&a.toUpperCase(),data:(m=o,"string"==typeof m?JSON.parse(o):o),responseType:s};p&&p.promise.then((function(e){g&&(g.abort(),r(e),g=null)})),g.timeout=f,g.onsuccess=function(e){!function(e,t,r){var n=r.config.validateStatus;!n||n(r.status)?e(r):t(jt("Request failed with status code "+r.status,r.config,null,r.request,r))}(t,r,e),g=null},g.onabort=function(e){g&&(r(e),g=null)},g.onerror=function(e){g&&(r(e),g=null)},g.ontimeout=function(e){r(e),g=null},g.send(h)}))}var Br=lt.find,zr=!0;"find"in[]&&Array(1).find((function(){zr=!1})),Le({target:"Array",proto:!0,forced:zr},{find:function(e){return Br(this,e,arguments.length>1?arguments[1]:void 0)}}),xr("find");var Vr=Function.prototype,Wr=Vr.toString,Gr=/^\s*function ([^ (]*)/;!d||"name"in Vr||(0,C.f)(Vr,"name",{configurable:!0,get:function(){try{return Wr.call(this).match(Gr)[1]}catch(e){return""}}});var Hr=function(){var e=L(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},$r=RegExp.prototype.exec,Jr=String.prototype.replace,Yr=$r,Zr=function(){var e=/a/,t=/b*/g;return $r.call(e,"a"),$r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Qr=void 0!==/()??/.exec("")[1];(Zr||Qr)&&(Yr=function(e){var t,r,n,o,i=this;return Qr&&(r=new RegExp("^"+i.source+"$(?!\\s)",Hr.call(i))),Zr&&(t=i.lastIndex),n=$r.call(i,e),Zr&&n&&(i.lastIndex=i.global?n.index+n[0].length:t),Qr&&n&&n.length>1&&Jr.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n});var Kr=Yr;Le({target:"RegExp",proto:!0,forced:/./.exec!==Kr},{exec:Kr});var Xr=Be("species"),en=!l((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),tn=!l((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),rn=function(e,t,r,n){var o=Be(e),i=!l((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=i&&!l((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[Xr]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return t=!0,null},r[o](""),!t}));if(!i||!a||"replace"===e&&!en||"split"===e&&!tn){var c=/./[o],u=r(o,""[e],(function(e,t,r,n,o){return t.exec===Kr?i&&!o?{done:!0,value:c.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),s=u[1];oe(String.prototype,e,u[0]),oe(RegExp.prototype,o,2==t?function(e,t){return s.call(e,this,t)}:function(e){return s.call(e,this)}),n&&U(RegExp.prototype[o],"sham",!0)}},nn=function(e){return function(t,r){var n,o,i=String(k(t)),a=fe(r),c=i.length;return a<0||a>=c?e?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===c||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):n:e?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},on={codeAt:nn(!1),charAt:nn(!0)},an=on.charAt,cn=function(e,t,r){return t+(r?an(e,t).length:1)},un=function(e,t){var r=e.exec;if("function"==typeof r){var n=r.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==b(e))throw TypeError("RegExp#exec called on incompatible receiver");return Kr.call(e,t)};rn("match",1,(function(e,t,r){return[function(t){var r=k(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var o=L(e),i=String(this);if(!o.global)return un(o,i);var a=o.unicode;o.lastIndex=0;for(var c,u=[],s=0;null!==(c=un(o,i));){var f=String(c[0]);u[s]=f,""===f&&(o.lastIndex=cn(i,le(o.lastIndex),a)),s++}return 0===s?null:u}]}));var sn=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};rn("search",1,(function(e,t,r){return[function(t){var r=k(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var o=L(e),i=String(this),a=o.lastIndex;sn(a,0)||(o.lastIndex=0);var c=un(o,i);return sn(o.lastIndex,a)||(o.lastIndex=a),null===c?-1:c.index}]}));var fn=/version\/(\d+(\.?_?\d+)+)/i;function pn(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""}function ln(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""}function dn(e,t){return{name:e,version:t,firefox:"firefox"===e,chrome:"chrome"===e||"chromium"===e,wechet:"wechat"===e,toString:function(){return"".concat(e.toUpperCase()," ").concat(t)}}}var mn=[{test:[/micromessenger/i],describe:function(e){return dn("wechat",pn(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||pn(fn,e))}},{test:[/\sedg\//i],describe:function(e){return dn("edge",pn(/\sedg\/(\d+(\.?_?\d+)+)/i,e))}},{test:[/edg([ea]|ios)/i],describe:function(e){return dn("edge",ln(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e))}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){return dn("firefox",pn(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e))}},{test:[/chromium/i],describe:function(e){return dn("chromium",pn(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||pn(fn,e))}},{test:[/chrome|crios|crmo/i],describe:function(e){return dn("chrome",pn(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e))}},{test:[/safari|applewebkit/i],describe:function(e){return dn("safari",pn(fn,e))}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return dn(pn(t,e),ln(t,e))}}],gn=Be("species"),hn=[].slice,vn=Math.max;Le({target:"Array",proto:!0,forced:!Ze("slice")},{slice:function(e,t){var r,n,o,i=x(this),a=le(i.length),c=ge(e,a),u=ge(void 0===t?a:t,a);if(Me(i)&&("function"!=typeof(r=i.constructor)||r!==Array&&!Me(r.prototype)?S(r)&&null===(r=r[gn])&&(r=void 0):r=void 0,r===Array||void 0===r))return hn.call(i,c,u);for(n=new(void 0===r?Array:r)(vn(u-c,0)),o=0;c<u;c++,o++)c in i&&Ue(n,o,i[c]);return n.length=o,n}});var yn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return L(r),function(e){if(!S(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(n),t?e.call(r,n):r.__proto__=n,r}}():void 0),bn=function(e,t,r){var n,o;return yn&&"function"==typeof(n=t.constructor)&&n!==r&&S(o=n.prototype)&&o!==r.prototype&&yn(e,o),e},wn="[\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff]",On=RegExp("^"+wn+wn+"*"),kn=RegExp(wn+wn+"*$"),xn=function(e){return function(t){var r=String(k(t));return 1&e&&(r=r.replace(On,"")),2&e&&(r=r.replace(kn,"")),r}},Sn={start:xn(1),end:xn(2),trim:xn(3)},jn=ke.f,Rn=D.f,En=C.f,Pn=Sn.trim,Tn=p.Number,An=Tn.prototype,In="Number"==b(Lt(An)),Nn=function(e){var t,r,n,o,i,a,c,u,s=j(e,!1);if("string"==typeof s&&s.length>2)if(43===(t=(s=Pn(s)).charCodeAt(0))||45===t){if(88===(r=s.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+s}for(a=(i=s.slice(2)).length,c=0;c<a;c++)if((u=i.charCodeAt(c))<48||u>o)return NaN;return parseInt(i,n)}return+s};if(Ne("Number",!Tn(" 0o1")||!Tn("0b1")||Tn("+0x1"))){for(var Dn,Ln=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof Ln&&(In?l((function(){An.valueOf.call(r)})):"Number"!=b(r))?bn(new Tn(Nn(t)),r,Ln):Nn(t)},Mn=d?jn(Tn):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Cn=0;Mn.length>Cn;Cn++)E(Tn,Dn=Mn[Cn])&&!E(Ln,Dn)&&En(Ln,Dn,Rn(Tn,Dn));Ln.prototype=An,An.constructor=Ln,oe(p,"Number",Ln)}Le({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var Un=RegExp.prototype,Fn=Un.toString;(l((function(){return"/a/b"!=Fn.call({source:"a",flags:"b"})}))||"toString"!=Fn.name)&&oe(RegExp.prototype,"toString",(function(){var e=L(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in Un)?Hr.call(e):r)}),{unsafe:!0});var _n=Math.max,qn=Math.min,Bn=Math.floor,zn=/\$([$&'`]|\d\d?|<[^>]*>)/g,Vn=/\$([$&'`]|\d\d?)/g;rn("replace",2,(function(e,t,r){return[function(r,n){var o=k(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,o,n):t.call(String(o),r,n)},function(e,o){var i=r(t,e,this,o);if(i.done)return i.value;var a=L(e),c=String(this),u="function"==typeof o;u||(o=String(o));var s=a.global;if(s){var f=a.unicode;a.lastIndex=0}for(var p=[];;){var l=un(a,c);if(null===l)break;if(p.push(l),!s)break;""===String(l[0])&&(a.lastIndex=cn(c,le(a.lastIndex),f))}for(var d,m="",g=0,h=0;h<p.length;h++){l=p[h];for(var v=String(l[0]),y=_n(qn(fe(l.index),c.length),0),b=[],w=1;w<l.length;w++)b.push(void 0===(d=l[w])?d:String(d));var O=l.groups;if(u){var k=[v].concat(b,y,c);void 0!==O&&k.push(O);var x=String(o.apply(void 0,k))}else x=n(v,c,y,b,O,o);y>=g&&(m+=c.slice(g,y)+x,g=y+v.length)}return m+c.slice(g)}];function n(e,r,n,o,i,a){var c=n+e.length,u=o.length,s=Vn;return void 0!==i&&(i=Ce(i),s=zn),t.call(a,s,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":s=i[a.slice(1,-1)];break;default:var f=+a;if(0===f)return t;if(f>u){var p=Bn(f/10);return 0===p?t:p<=u?void 0===o[p-1]?a.charAt(1):o[p-1]+a.charAt(1):t}s=o[f-1]}return void 0===s?"":s}))}}));var Wn=function(e){return null!=e},Gn=Array.isArray,Hn=function(e){return"function"==typeof e},$n=function(e){return"object"===Lr(e)&&null!==e},Jn=Object.prototype.hasOwnProperty,Yn=function(e,t){return Jn.call(e,t)},Zn=/-(\w)/g,Qn=function(e){return e.replace(Zn,(function(e,t){return t?t.toUpperCase():""}))},Kn=function(e,t){return e!==t&&(e==e||t==t)},Xn={};function eo(){return $n(wx)||$n(swan)||$n(my)||/miniprogram/i.test(navigator.userAgent)||window&&"miniprogram"===window.__wxjs_environment}function to(e){if(!Xn.browser){e=e||(eo()?"miniprogram":navigator.userAgent);var t=mn.find((function(t){return t.test.some((function(t){return t.test(e)}))}));t&&(Xn.browser=t.describe(e))}return Xn.browser}function ro(){return to()}to(),eo();var no=lt.map;Le({target:"Array",proto:!0,forced:!Ze("map")},{map:function(e){return no(this,e,arguments.length>1?arguments[1]:void 0)}});var oo=!l((function(){return Object.isExtensible(Object.preventExtensions({}))})),io=o((function(e){var t=C.f,r=H("meta"),n=0,o=Object.isExtensible||function(){return!0},i=function(e){t(e,r,{value:{objectID:"O"+ ++n,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!S(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!E(e,r)){if(!o(e))return"F";if(!t)return"E";i(e)}return e[r].objectID},getWeakData:function(e,t){if(!E(e,r)){if(!o(e))return!0;if(!t)return!1;i(e)}return e[r].weakData},onFreeze:function(e){return oo&&a.REQUIRED&&o(e)&&!E(e,r)&&i(e),e}};Y[r]=!0})),ao={},co=Be("iterator"),uo=Array.prototype,so=function(e){return void 0!==e&&(ao.Array===e||uo[co]===e)},fo=Be("iterator"),po=function(e){if(null!=e)return e[fo]||e["@@iterator"]||ao[nt(e)]},lo=function(e,t,r,n){try{return n?t(L(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&L(o.call(e)),t}},mo=o((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,r,n,o,i){var a,c,u,s,f,p,l,d=st(r,n,o?2:1);if(i)a=e;else{if("function"!=typeof(c=po(e)))throw TypeError("Target is not iterable");if(so(c)){for(u=0,s=le(e.length);s>u;u++)if((f=o?d(L(l=e[u])[0],l[1]):d(e[u]))&&f instanceof t)return f;return new t(!1)}a=c.call(e)}for(p=a.next;!(l=p.call(a)).done;)if("object"==typeof(f=lo(a,d,l.value,o))&&f&&f instanceof t)return f;return new t(!1)}).stop=function(e){return new t(!0,e)}})),go=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e},ho=Be("iterator"),vo=!1;try{var yo=0,bo={next:function(){return{done:!!yo++}},return:function(){vo=!0}};bo[ho]=function(){return this},Array.from(bo,(function(){throw 2}))}catch(e){}var wo,Oo,ko,xo=function(e,t){if(!t&&!vo)return!1;var r=!1;try{var n={};n[ho]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},So=function(e,t,r,n,o){var i=p[e],a=i&&i.prototype,c=i,u=n?"set":"add",s={},f=function(e){var t=a[e];oe(a,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!S(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!S(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!S(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(Ne(e,"function"!=typeof i||!(o||a.forEach&&!l((function(){(new i).entries().next()})))))c=r.getConstructor(t,e,n,u),io.REQUIRED=!0;else if(Ne(e,!0)){var d=new c,m=d[u](o?{}:-0,1)!=d,g=l((function(){d.has(1)})),h=xo((function(e){new i(e)})),v=!o&&l((function(){for(var e=new i,t=5;t--;)e[u](t,t);return!e.has(-0)}));h||((c=t((function(t,r){go(t,c,e);var o=bn(new i,t,c);return null!=r&&mo(r,o[u],o,n),o}))).prototype=a,a.constructor=c),(g||v)&&(f("delete"),f("has"),n&&f("get")),(v||m)&&f(u),o&&a.clear&&delete a.clear}return s[e]=c,Le({global:!0,forced:c!=i},s),Wt(c,e),o||r.setStrong(c,e,n),c},jo=function(e,t,r){for(var n in t)oe(e,n,t[n],r);return e},Ro=!l((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Eo=J("IE_PROTO"),Po=Object.prototype,To=Ro?Object.getPrototypeOf:function(e){return e=Ce(e),E(e,Eo)?e[Eo]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Po:null},Ao=Be("iterator"),Io=!1;[].keys&&("next"in(ko=[].keys())?(Oo=To(To(ko)))!==Object.prototype&&(wo=Oo):Io=!0),null==wo&&(wo={}),E(wo,Ao)||U(wo,Ao,(function(){return this}));var No={IteratorPrototype:wo,BUGGY_SAFARI_ITERATORS:Io},Do=No.IteratorPrototype,Lo=function(){return this},Mo=No.IteratorPrototype,Co=No.BUGGY_SAFARI_ITERATORS,Uo=Be("iterator"),Fo=function(){return this},_o=function(e,t,r,n,o,i,a){!function(e,t,r){var n=t+" Iterator";e.prototype=Lt(Do,{next:v(1,r)}),Wt(e,n,!1),ao[n]=Lo}(r,t,n);var c,u,s,f=function(e){if(e===o&&g)return g;if(!Co&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},p=t+" Iterator",l=!1,d=e.prototype,m=d[Uo]||d["@@iterator"]||o&&d[o],g=!Co&&m||f(o),h="Array"==t&&d.entries||m;if(h&&(c=To(h.call(new e)),Mo!==Object.prototype&&c.next&&(To(c)!==Mo&&(yn?yn(c,Mo):"function"!=typeof c[Uo]&&U(c,Uo,Fo)),Wt(c,p,!0))),"values"==o&&m&&"values"!==m.name&&(l=!0,g=function(){return m.call(this)}),d[Uo]!==g&&U(d,Uo,g),ao[t]=g,o)if(u={values:f("values"),keys:i?g:f("keys"),entries:f("entries")},a)for(s in u)!Co&&!l&&s in d||oe(d,s,u[s]);else Le({target:t,proto:!0,forced:Co||l},u);return u},qo=Be("species"),Bo=function(e){var t=ce(e);d&&t&&!t[qo]&&(0,C.f)(t,qo,{configurable:!0,get:function(){return this}})},zo=C.f,Vo=io.fastKey,Wo=ne.set,Go=ne.getterFor,Ho={getConstructor:function(e,t,r,n){var o=e((function(e,i){go(e,o,t),Wo(e,{type:t,index:Lt(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=i&&mo(i,e[n],e,r)})),i=Go(t),a=function(e,t,r){var n,o,a=i(e),u=c(e,t);return u?u.value=r:(a.last=u={index:o=Vo(t,!0),key:t,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=u),n&&(n.next=u),d?a.size++:e.size++,"F"!==o&&(a.index[o]=u)),e},c=function(e,t){var r,n=i(e),o=Vo(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return jo(o.prototype,{clear:function(){for(var e=i(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=i(this),r=c(this,e);if(r){var n=r.next,o=r.previous;delete t.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),t.first==r&&(t.first=n),t.last==r&&(t.last=o),d?t.size--:this.size--}return!!r},forEach:function(e){for(var t,r=i(this),n=st(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),jo(o.prototype,r?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),d&&zo(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(e,t,r){var n=t+" Iterator",o=Go(t),i=Go(n);_o(e,t,(function(e,t){Wo(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),Bo(t)}},$o=(So("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Ho,!0),h.f),Jo=function(e){return function(t){for(var r,n=x(t),o=Pt(n),i=o.length,a=0,c=[];i>a;)r=o[a++],d&&!$o.call(n,r)||c.push(e?[r,n[r]]:n[r]);return c}},Yo={entries:Jo(!0),values:Jo(!1)}.entries;Le({target:"Object",stat:!0},{entries:function(e){return Yo(e)}});var Zo=on.charAt,Qo=ne.set,Ko=ne.getterFor("String Iterator");_o(String,"String",(function(e){Qo(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=Ko(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=Zo(r,n),t.index+=e.length,{value:e,done:!1})}));var Xo=Be("match"),ei=function(e){var t;return S(e)&&(void 0!==(t=e[Xo])?!!t:"RegExp"==b(e))},ti=Be("species"),ri=[].push,ni=Math.min,oi=!l((function(){return!RegExp(4294967295,"y")}));rn("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(k(this)),o=void 0===r?4294967295:r>>>0;if(0===o)return[];if(void 0===e)return[n];if(!ei(e))return t.call(n,e,o);for(var i,a,c,u=[],s=0,f=new RegExp(e.source,(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"")+"g");(i=Kr.call(f,n))&&!((a=f.lastIndex)>s&&(u.push(n.slice(s,i.index)),i.length>1&&i.index<n.length&&ri.apply(u,i.slice(1)),c=i[0].length,s=a,u.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return s===n.length?!c&&f.test("")||u.push(""):u.push(n.slice(s)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var o=k(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,r):n.call(String(o),t,r)},function(e,o){var i=r(n,e,this,o,n!==t);if(i.done)return i.value;var a=L(e),c=String(this),u=function(e,t){var r,n=L(e).constructor;return void 0===n||null==(r=L(n)[ti])?t:ut(r)}(a,RegExp),s=a.unicode,f=new u(oi?a:"^(?:"+a.source+")",(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(oi?"y":"g")),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===c.length)return null===un(f,c)?[c]:[];for(var l=0,d=0,m=[];d<c.length;){f.lastIndex=oi?d:0;var g,h=un(f,oi?c:c.slice(d));if(null===h||(g=ni(le(f.lastIndex+(oi?0:d)),c.length))===l)d=cn(c,d,s);else{if(m.push(c.slice(l,d)),m.length===p)return m;for(var v=1;v<=h.length-1;v++)if(m.push(h[v]),m.length===p)return m;d=l=g}}return m.push(c.slice(l)),m}]}),!oi);var ii=ne.set,ai=ne.getterFor("Array Iterator"),ci=_o(Array,"Array",(function(e,t){ii(this,{type:"Array Iterator",target:x(e),index:0,kind:t})}),(function(){var e=ai(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");ao.Arguments=ao.Array,xr("keys"),xr("values"),xr("entries");var ui=Be("iterator"),si=Be("toStringTag"),fi=ci.values;for(var pi in ct){var li=p[pi],di=li&&li.prototype;if(di){if(di[ui]!==fi)try{U(di,ui,fi)}catch(e){di[ui]=fi}if(di[si]||U(di,si,pi),ct[pi])for(var mi in ci)if(di[mi]!==ci[mi])try{U(di,mi,ci[mi])}catch(e){di[mi]=ci[mi]}}}function gi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function hi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var yi=new(function(){function e(){hi(this,e),this.m=new Map}var t,r,n;return t=e,(r=[{key:"reset",value:function(e){this.m=new Map(Object.entries(e))}},{key:"get",value:function(e,t){var r=this.m.get(e);return void 0!==r?r:t}},{key:"getBoolean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.m.get(e);return void 0===r?t:"string"==typeof r?"true"===r:!!r}},{key:"getNumber",value:function(e,t){var r=parseFloat(this.m.get(e));return Number.isNaN(r)?void 0!==t?t:NaN:r}},{key:"set",value:function(e,t){this.m.set(e,t)}}])&&vi(t.prototype,r),n&&vi(t,n),e}());function bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wi(e){var t=eo()?wx:window,r=t.MeetNow=t.MeetNow||{config:e},n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},function(e){try{var t=e.sessionStorage.getItem("meetnow-persist-config");return null!==t?JSON.parse(t):{}}catch(e){return{}}}(t),{persistent:!1},r.config,{},function(e){var t={};try{e.location.search.slice(1).split("&").map((function(e){return e.split("=")})).map((function(e){var t=gi(e,2),r=t[1];return[decodeURIComponent(t[0]),decodeURIComponent(r)]})).filter((function(e){var t,r=gi(e,1);return r[0].substr(0,(t="meetnow:").length)===t})).map((function(e){var t=gi(e,2),r=t[1];return[t[0].slice("meetnow:".length),r]})).forEach((function(e){var r=gi(e,2);t[r[0]]=r[1]}))}catch(e){return t}return t}(t));yi.reset(n),yi.getBoolean("persistent")&&function(e,t){try{e.sessionStorage.setItem("meetnow-persist-config",JSON.stringify(t))}catch(e){return}}(t,n),r.config=yi,yi.getBoolean("testing")&&yi.set("debug","MN:*")}var Oi=[].join,ki=O!=Object,xi=dt("join",",");Le({target:"Array",proto:!0,forced:ki||xi},{join:function(e){return Oi.call(x(this),void 0===e?",":e)}});var Si="post",ji="/conference-ctrl/api/v1/ctrl/",Ri={getVirtualJWT:{method:"get",url:"".concat("/user-manager/api/v1/","external/virtualJwt/party")},getURL:{method:Si,url:"".concat(ji,"get-url-by-long-num")},getFullInfo:{method:Si,url:"".concat(ji,"get-conference-info")},getBasicInfo:{method:Si,url:"".concat(ji,"get-short-info")},getBasicInfoOffline:{method:Si,url:"".concat(ji,"get-short-info-offline")},getStats:{method:Si,url:"".concat(ji,"get-call-stats")},polling:{method:Si,url:"".concat(ji,"polling")},keepalive:{method:Si,url:"".concat(ji,"user-keepalive")},joinFocus:{method:Si,url:"".concat(ji,"join-focus")},joinWechat:{method:Si,url:"".concat(ji,"join-wechat")},joinMedia:{method:Si,url:"".concat(ji,"join-audio-video")},renegMedia:{method:Si,url:"".concat(ji,"av-reneg")},joinShare:{method:Si,url:"".concat(ji,"join-applicationsharing-v2")},leaveShare:{method:Si,url:"".concat(ji,"bye-applicationsharing")},switchShare:{method:Si,url:"".concat(ji,"applicationsharing-switch")},renegShare:{method:Si,url:"".concat(ji,"applicationsharing-reneg")},pushMessage:{method:Si,url:"".concat(ji,"im-info")},pullMessage:{method:Si,url:"".concat(ji,"get-all-im-info")},muteAll:{method:Si,url:"".concat(ji,"mute-all")},unmuteAll:{method:Si,url:"".concat(ji,"unmute-all")},acceptLobbyUser:{method:Si,url:"".concat(ji,"grant-lobby-user")},acceptLobbyUserAll:{method:Si,url:"".concat(ji,"grant-lobby-all")},rejectLobbyUserAll:{method:Si,url:"".concat(ji,"del-lobby-all")},waitLobbyUser:{method:Si,url:"".concat(ji,"wait-lobby-user")},waitLobbyUserAll:{method:Si,url:"".concat(ji,"wait-lobby-all")},rejectHandupAll:{method:Si,url:"".concat(ji,"reject-all-hand-up")},deleteUser:{method:Si,url:"".concat(ji,"delete-user")},setUserMedia:{method:Si,url:"".concat(ji,"modify-user-media")},setUserRole:{method:Si,url:"".concat(ji,"modify-user-role")},setUserDisplayText:{method:Si,url:"".concat(ji,"edit-user-display-text")},holdUser:{method:Si,url:"".concat(ji,"wait-lobby-user")},inviteUser:{method:Si,url:"".concat(ji,"invite-user")},setFocusVideo:{method:Si,url:"".concat(ji,"set-focus-video")},setSpeakMode:{method:Si,url:"".concat(ji,"set-speak-mode")},setFreeLayout:{method:Si,url:"".concat(ji,"set-free-layout")},setCustomizeLayout:{method:Si,url:"".concat(ji,"set-customize-layout")},setGlobalLayout:{method:Si,url:"".concat(ji,"set-global-layout")},setFecc:{method:Si,url:"".concat(ji,"set-fecc")},setTitle:{method:Si,url:"".concat(ji,"set-title")},sendTitle:{method:Si,url:"".concat(ji,"send-title")},setRecord:{method:Si,url:"".concat(ji,"record-operate")},setRTMP:{method:Si,url:"".concat(ji,"rtmp-operate")},setLock:{method:Si,url:"".concat(ji,"lock-conference")},leave:{method:Si,url:"".concat(ji,"quit-conference")},end:{method:Si,url:"".concat(ji,"end-conference")}};function Ei(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pi(e){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ti(e,t){return(Ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ai(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ii(e,t,r){return(Ii=Ai()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&Ti(o,r.prototype),o}).apply(null,arguments)}function Ni(e){var t="function"==typeof Map?new Map:void 0;return(Ni=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Ii(e,arguments,Pi(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ti(r,e)})(e)}var Di={msg:"Unknown Error",errorCode:-1},Li=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Di;return hi(this,t),(r=Ei(this,Pi(t).call(this))).name="ApiError",r.message=n.msg,r.errCode=n.errorCode,r.bizCode=e,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ti(e,t)}(t,e),t}(Ni(Error)),Mi=t("MN:Api:Request"),Ci=r.isCancel;function Ui(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;function i(t){return e.headers=t,n}function a(t){return e.params=t,n}function c(t){return e.data=t,n}function u(){return Mi("send()"),t=r.CancelToken.source(),e.cancelToken=t.token,o(e)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"canceled";return Mi("cancel()"),t&&t.cancel(e)}return n={config:e,header:i,params:a,data:c,send:u,cancel:s}}function Fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fi(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qi=t("MN:Api");function Bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};qi("createApi()");var t=r.create(_i({baseURL:"/",timeout:35e3},e));function n(e){return qi('request() "'.concat(e,'"')),Ui(_i({},Ri[e]),t)}return t.interceptors.response.use((function(e){var t=e.data,r=t.ret,n=t.bizCode,o=t.error,i=t.data;if(r<0)throw new Li(n,o);if(0===r&&o)throw new Li(n,o);return qi("request success: %o",i),e}),(function(e){throw qi("request error: %o",e),e})),{get interceptors(){return t.interceptors},request:n}}var zi=t("MN:Worker");function Vi(e){var t,r=!1,n=!1,o=0,i=0,c=e.interval,u=void 0===c?o:c,s=e.work,f=e.cancel;function p(){return l.apply(this,arguments)}function l(){return(l=a(regeneratorRuntime.mark((function e(){var a,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(c.length>0&&void 0!==c[0])||c[0],!s||!a){e.next=6;break}return n=!0,e.next=5,s(i++);case 5:n=!1;case 6:if(r){e.next=8;break}return e.abrupt("return");case 8:o=Hn(u)?u():u,t=setTimeout(p,o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=a(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(n.length>0&&void 0!==n[0])||n[0],zi("start()"),!r){e.next=4;break}return e.abrupt("return");case 4:return r=!0,e.next=7,p(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{config:e,get running(){return r},start:function(){return d.apply(this,arguments)},stop:function(){zi("stop()"),r&&(t&&(clearTimeout(t),t=void 0),n&&f&&f(),r=!1)}}}var Wi=C.f,Gi=p.Symbol;if(d&&"function"==typeof Gi&&(!("description"in Gi.prototype)||void 0!==Gi().description)){var Hi={},$i=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof $i?new Gi(e):void 0===e?Gi():Gi(e);return""===e&&(Hi[t]=!0),t};je($i,Gi);var Ji=$i.prototype=Gi.prototype;Ji.constructor=$i;var Yi=Ji.toString,Zi="Symbol(test)"==String(Gi("test")),Qi=/^Symbol\((.*)\)[^)]+$/;Wi(Ji,"description",{configurable:!0,get:function(){var e=S(this)?this.valueOf():this,t=Yi.call(e);if(E(Hi,e))return"";var r=Zi?t.slice(7,-1):t.replace(Qi,"$1");return""===r?void 0:r}}),Le({global:!0,forced:!0},{Symbol:$i})}function Ki(e){return new Proxy({},{get:function(t,r){return r in t?t[r]:Reflect.get(e,r)}})}Le({target:"Reflect",stat:!0},{get:function e(t,r){var n,o,i=arguments.length<3?t:arguments[2];return L(t)===i?t[r]:(n=D.f(t,r))?E(n,"value")?n.value:void 0===n.get?void 0:n.get.call(i):S(o=To(t))?e(o,r,i):void 0}}),Bt("iterator");var Xi=Math.max,ea=Math.min;Le({target:"Array",proto:!0,forced:!Ze("splice")},{splice:function(e,t){var r,n,o,i,a,c,u=Ce(this),s=le(u.length),f=ge(e,s),p=arguments.length;if(0===p?r=n=0:1===p?(r=0,n=s-f):(r=p-2,n=ea(Xi(fe(t),0),s-f)),s+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(o=Ve(u,n),i=0;i<n;i++)(a=f+i)in u&&Ue(o,i,u[a]);if(o.length=n,r<n){for(i=f;i<s-n;i++)c=i+r,(a=i+n)in u?u[c]=u[a]:delete u[c];for(i=s;i>s-n+r;i--)delete u[i-1]}else if(r>n)for(i=s-n;i>f;i--)c=i+r-1,(a=i+n-1)in u?u[c]=u[a]:delete u[c];for(i=0;i<r;i++)u[i+f]=arguments[i+2];return u.length=s-n+r,o}});var ta=t("MN:Events");function ra(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,r={};function n(e,t){Gn(e)?e.forEach((function(e){return n(e,t)})):(r[e]||(r[e]=[])).push(t)}function o(e,t){if(Gn(e))e.forEach((function(e){return o(e,t)}));else{var n=r[e];if(n)if(t){for(var i,a=n.length;a--;)if((i=n[a])===t||i.fn===t){n.splice(a,1);break}}else r[e]=null}}function i(e,t){function r(){o(e,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];t.apply(this,i)}r.fn=t,n(e,r)}function a(e,t){for(var r=e.length-(t=t||0),n=new Array(r);r--;)n[r]=e[r+t];return n}function c(e){t('emit() "'.concat(e,'"'));var n=r[e];if(n){n=n.length>1?a(n):n;for(var o=arguments.length,i=new Array(o>1?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];var u=!0,s=!1,f=void 0;try{for(var p,l=n[Symbol.iterator]();!(u=(p=l.next()).done);u=!0){var d=p.value;try{d.apply(void 0,i)}catch(r){t('invoke "'.concat(e,'" callback failed: %o'),r)}}}catch(e){s=!0,f=e}finally{try{u||null==l.return||l.return()}finally{if(s)throw f}}}}return e={on:function(t,r){return n(t,r),e},off:function(t,r){return o(t,r),e},once:function(t,r){return i(t,r),e},emit:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return c.apply(void 0,[t].concat(n)),e}}}function na(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var oa=t("MN:Keepalive");function ia(e){oa("computeNextTimeout() attempts: ".concat(e));var t=Math.floor(Math.random()*Math.pow(2,e)+1);return t<2&&(t=2),t>30&&(t=30),1e3*t}function aa(e){var t,r=e.api,n=e.interval||3e4,o=0;function i(){return c.apply(this,arguments)}function c(){return(c=a(regeneratorRuntime.mark((function i(){var a,c,u,s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return oa("keepalive()"),i.prev=1,!1,t=r.request("keepalive"),i.next=6,t.send();case 6:a=i.sent,i.next=19;break;case 9:if(i.prev=9,i.t0=i.catch(1),c=i.t0,!Ci(i.t0)){i.next=15;break}return i.abrupt("return");case 15:o++,n=ia(o),oa("keepalive error: %o",c),e.onError&&e.onError(c,o);case 19:if(o>15&&e.onError&&e.onError(new Error("Max Attempts"),o),!c){i.next=22;break}return i.abrupt("return");case 22:(u=a.data).bizCode,s=u.data,n=Math.min(1e3*(void 0===s?{interval:n}:s).interval,n);case 25:case"end":return i.stop()}}),i,null,[[1,9]])})))).apply(this,arguments)}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?na(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Vi({work:function(){return i()},interval:function(){return n},cancel:function(){return t.cancel()}}),{keepalive:i})}function ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ua=t("MN:Polling");function sa(e){ua("computeNextTimeout() attempts: ".concat(e));var t=Math.floor(Math.random()*Math.pow(2,e)+1);return t<2&&(t=2),t>30&&(t=30),1e3*t}function fa(e){var t,r=e.api,n=100,o=0,i=0;function c(t){if(t){var r=t.version,n=t.category,o=t.body;if(!Wn(r)||r<=i)ua("illegal version: ".concat(r,", current version: ").concat(i,"."));else{switch(n){case"conference-info":e.onInformation&&e.onInformation(o);break;case"im-record":e.onMessage&&e.onMessage(o);break;case"port-change":e.onRenegotiate&&e.onRenegotiate(o);break;case"quit-conference":e.onQuit&&e.onQuit(o);break;default:ua("unsupported category: ".concat(n))}i=r}}}function u(){return s.apply(this,arguments)}function s(){return(s=a(regeneratorRuntime.mark((function a(){var u,s,f,p;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return ua("poll()"),!1,!1,a.prev=3,t=r.request("polling").data({version:i}),a.next=7,t.send();case 7:u=a.sent,a.next=23;break;case 10:if(a.prev=10,a.t0=a.catch(3),s=a.t0,!Ci(a.t0)){a.next=16;break}return a.abrupt("return");case 16:if(!(!!s&&[900408,901323].includes(s.bizCode))){a.next=19;break}return a.abrupt("return");case 19:o++,n=sa(o),ua("polling error: %o",s),e.onError&&e.onError(s,o);case 23:if(o>15&&e.onError&&e.onError(new Error("Max Attempts"),o),!s){a.next=26;break}return a.abrupt("return");case 26:(f=u.data).bizCode,p=f.data;try{c(p)}catch(e){ua("process data failed. %o",e)}o=0;case 29:case"end":return a.stop()}}),a,null,[[3,10]])})))).apply(this,arguments)}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ca(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Vi({work:function(){return u()},interval:function(){return n},cancel:function(){return t.cancel()}}),{poll:u,analyze:c})}Le({target:"Reflect",stat:!0},{set:function e(t,r,n){var o,i,a=arguments.length<4?t:arguments[3],c=D.f(L(t),r);if(!c){if(S(i=To(t)))return e(i,r,n,a);c=v(0)}if(E(c,"value")){if(!1===c.writable||!S(a))return!1;if(o=D.f(a,r)){if(o.get||o.set||!1===o.writable)return!1;o.value=n,C.f(a,r,o)}else C.f(a,r,v(0,n));return!0}return void 0!==c.set&&(c.set.call(a,n),!0)}});var pa=t("MN:Reactive");function la(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t=t||ra(pa),new Proxy(e,{set:function(e,r,n,o){var i=e[r],a=Yn(e,r),c=Reflect.set(e,r,n,o);return a||t.emit("".concat(Qn(r),"Added"),n),Kn(n,i)&&t.emit("".concat(Qn(r),"Changed"),n,i),c}})}function da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ma=t("MN:Information:Description");function ga(e,t){var r,n=t.api,o=ra(ma),i=la(c({}),o);function c(e){return e.locked=d(),e}function u(){return{admissionPolicy:e["admission-policy"],attendeeByPass:e["attendee-by-pass"]}}function s(e){return f.apply(this,arguments)}function f(){return(f=a(regeneratorRuntime.mark((function e(t){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ma("setLock()"),r=t.admissionPolicy,i=void 0===(o=t.attendeeByPass)||o,e.next=4,n.request("setLock").data({"admission-policy":r,"attendee-lobby-bypass":i}).send();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=a(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],r=!(n.length>1&&void 0!==n[1])||n[1],ma("lock()"),e.next=5,s({admissionPolicy:r?"closedAuthenticated":"openAuthenticated",attendeeByPass:t});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ma("unlock()"),e.next=3,s({admissionPolicy:"anonymous"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return"anonymous"!==u().admissionPolicy}return r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?da(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{get data(){return e},get subject(){return e.subject},get:function(t){return e[t]},update:function(e){c(i),o.emit("updated",r)},getLock:u,setLock:s,lock:function(){return p.apply(this,arguments)},unlock:function(){return l.apply(this,arguments)},isLocked:d})}function ha(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var va=t("MN:Information:State");function ya(e,t){var r,n=ra(va),o=la(i({}),n);function i(t){var r=e.locked;return t.active=e.active,t.locked=r,t.sharingUserEntity=a(),t.speechUserEntity=c(),t}function a(){var t=e.applicationsharer;return t.user&&t.user.entity}function c(){return e["speech-user-entity"]}return r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ha(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n,{get data(){return e},get:function(t){return e[t]},update:function(e){i(o),n.emit("updated",r)},getSharingUserEntity:a,getSpeechUserEntity:c})}var ba=t("MN:Information:Layout");function wa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ka=t("MN:Information:Danmaku"),xa={position:"top",type:"static",displayTime:30,repeatCount:2,repeatInterval:5,rollDirection:"R2L"};function Sa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ja=t("MN:Information:View");function Ra(e,t){var r,n=t.api,o=ra(ja),i=la(s({}),o),c=function(e){function t(){return(t=a(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ba("setLayout()"),t.next=3,e.request("setFreeLayout").data(r).send();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function r(e){return n.apply(this,arguments)}function n(){return(n=a(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ba("setCustomizeLayout()"),r.viewer=r.viewer||"attendee",t.next=4,e.request("setCustomizeLayout").data(r).send();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function o(){return(o=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ba("setPresenterLayout()"),t.viewer="presenter",e.next=4,r(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ba("setAttendeeLayout()"),t.viewer="attendee",e.next=4,r(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ba("setCastViewerLayout()"),t.viewer="castviewer",e.next=4,r(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=a(regeneratorRuntime.mark((function t(){var r,n,o,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:{name:!0,icon:!0},ba("setOSD()"),n=r.name,o=r.icon,t.next=5,e.request("setGlobalLayout").data({"hide-osd-site-icon":o,"hide-osd-site-name":n}).send();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return(s=a(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ba("setSpeakMode()"),t.next=3,e.request("setSpeakMode").data({"speak-mode":r}).send();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{setLayout:function(e){return t.apply(this,arguments)},setCustomizeLayout:r,setPresenterLayout:function(e){return o.apply(this,arguments)},setAttendeeLayout:function(e){return i.apply(this,arguments)},setCastViewerLayout:function(e){return c.apply(this,arguments)},setOSD:function(){return u.apply(this,arguments)},setSpeakMode:function(e){return s.apply(this,arguments)}}}(n),u=function(e){var t=xa;function r(){return(r=a(regeneratorRuntime.mark((function r(n){var o,i,a,c,u,s,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return ka("setDanmaku()"),o=Oa({},t,{config:n}),i=o.type,a=o.position,c=o.displayTime,u=o.repeatCount,s=o.repeatInterval,f=o.rollDirection,r.next=5,e.request("setTitle").data({type:i,position:a,"display-time":c,"repeat-count":u,"repeat-interval":s,"roll-direction":f}).send();case 5:t=o;case 6:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function n(){return(n=a(regeneratorRuntime.mark((function t(r,n){var o,i,a,c,u,s,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ka("sendDanmaku()"),a=void 0===(i=(o=n||{}).attendee)||i,u=void 0===(c=o.castviewer)||c,f=void 0===(s=o.presenter)||s,t.next=4,e.request("sendTitle").data({"display-text":r,"all-attendee":a,"all-castviewer":u,"all-presenter":f});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{setDanmaku:function(e){return r.apply(this,arguments)},sendDanmaku:function(e,t){return n.apply(this,arguments)}}}(n);function s(e){return e.focusUserEntity=l(),e}function f(){return e["entity-view"].find((function(e){return"audio-video"===e.entity}))}function p(){return f()["entity-state"]}function l(){return p()["focus-video-user-entity"]}return r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{get data(){return e},get:function(t){return e[t]}},c,{},u,{update:function(e){s(i),o.emit("updated",r)},getVideoView:f,getLayout:p,getFocusUserEntity:l,getDanmaku:function(){return f().title}})}var Ea,Pa=t("MN:Information:Camera");function Ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}!function(e){e.LEFT="PanLeft",e.RIGHT="PanRight",e.DOWN="TiltDown",e.UP="TiltUp",e.ZOOMOUT="ZoomOut",e.ZOOMIN="ZoomIn",e.FOCUSOUT="FocusOut",e.FOCUSIN="FocusIn"}(Ea||(Ea={}));var Aa=t("MN:Information:User");function Ia(e,t){var r,n=t.api,o=t.userId,i=ra(Aa),c=la(f({}),i),u=p(),s=function(e,t){function r(e){return n.apply(this,arguments)}function n(){return(n=a(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Pa("action()"),r.next=3,e.request("setFecc").data({"user-entity":t,action:n}).send();case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return{action:r,left:function(){return Pa("left()"),r(Ea.LEFT)},right:function(){return Pa("right()"),r(Ea.RIGHT)},down:function(){return Pa("down()"),r(Ea.DOWN)},up:function(){return Pa("up()"),r(Ea.UP)},zoomout:function(){return Pa("zoomout()"),r(Ea.ZOOMOUT)},zoomin:function(){return Pa("zoomin()"),r(Ea.ZOOMIN)},focusout:function(){return Pa("focusout()"),r(Ea.FOCUSOUT)},focusin:function(){return Pa("focusin()"),r(Ea.FOCUSIN)}}}(n,u);function f(t){return t.displayText=e["display-text"],t.role=l(),t.hold=m(),t.audio=!w(),t.video=!O(),t.handup=k(),t.media=g(),t.sharing=x(),t}function p(){return e.entity}function l(){return e.roles&&e.roles.role}function d(t){return e.endpoint.find((function(e){return e["session-type"]===t}))}function m(){var e=d("audio-video");return e&&"on-hold"===e.status}function g(){return!!d("audio-video")}function h(t){return e.endpoint.reduce((function(e,t){return e.concat(t.media||[])}),[]).find((function(e){return e.label===t}))}function v(e){var t=h(e)||{},r=t["media-ingress-filter"],n=t["media-egress-filter"];return{ingress:(void 0===r?{type:"block"}:r).type,egress:(void 0===n?{type:"block"}:n).type}}function y(){return v("main-audio")}function b(){return v("main-video")}function w(){return"block"===y().ingress}function O(){return"block"===b().ingress}function k(){return"unblocking"===y().ingress}function x(){var e=h("applicationsharing");return e&&"sendonly"===e.status}function S(e){return j.apply(this,arguments)}function j(){return(j=a(regeneratorRuntime.mark((function e(t){var o,i,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("setFilter()"),o=t.label,i=t.enable,a=r.getEndpoint("audio-video"),c=r.getMedia(o),e.next=6,n.request("setUserMedia").data({"user-entity":u,"endpoint-entity":a.entity,"media-id":c.id,"media-ingress-filter":i?"unblock":"block"}).send();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return E.apply(this,arguments)}function E(){return(E=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("setAudioFilter()"),e.next=3,S({label:"main-audio",enable:t});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("setVideoFilter()"),e.next=3,S({label:"main-video",enable:t});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("setDisplayText()"),e.next=3,n.request("setUserDisplayText").data({"user-entity":u,"display-text":t}).send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("setRole()"),e.next=3,n.request("setUserRole").data({"user-entity":u,role:t}).send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=a(regeneratorRuntime.mark((function e(){var t,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],Aa("setFocus()"),e.next=4,n.request("setFocusVideo").data({"user-entity":t?u:""}).send();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("getStats()"),e.next=3,n.request("getStats").data({"user-entity-list":[u]}).send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("kick()"),e.next=3,n.request("deleteUser").data({"user-entity":u}).send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("hold()"),e.next=3,n.request("waitLobbyUser").data({"user-entity":u}).send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("unhold()"),e.next=3,n.request("acceptLobbyUser").data({"user-entity":u}).send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("allow()"),e.next=3,n.request("acceptLobbyUser").data({"user-entity":u}).send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("accept()"),e.next=3,R(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("reject()"),e.next=3,R(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=a(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Aa("sendMessage()"),!(n=t.chatChannel)||!n.ready){e.next=5;break}return e.next=5,n.sendMessage(r,[u]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ta(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i,{get data(){return e},get:function(t){return e[t]},update:function(t){!t||"full"!==t.state&&e||(e=t),f(c),i.emit("updated",r)},getEntity:p,getUID:function(){return e["subject-id"]},getDisplayText:function(){return e["display-text"]},getRole:l,isCurrent:function(){return u===o},isAttendee:function(){return"attendee"===l()},isPresenter:function(){return"presenter"===l()},isCastviewer:function(){return"castviewer"===l()},isOrganizer:function(){return"organizer"===l()},getEndpoint:d,isOnHold:m,hasFocus:function(){return!!d("focus")},hasMedia:g,hasSharing:function(){return!!d("applicationsharing")},hasFECC:function(){return!!d("fecc")},getMedia:h,getAudioFilter:y,getVideoFilter:b,isAudioBlocked:w,isVideoBlocked:O,isHandup:k,isSharing:x,isSIP:function(){return"sip"===e.protocol.toLowerCase()},isHTTP:function(){return"http"===e.protocol.toLowerCase()},isRTMP:function(){return"rtmp"===e.protocol.toLowerCase()},setFilter:S,setAudioFilter:R,setVideoFilter:function(e){return P.apply(this,arguments)},setDisplayText:function(e){return T.apply(this,arguments)},setRole:function(e){return A.apply(this,arguments)},setFocus:function(){return I.apply(this,arguments)},getStats:function(){return N.apply(this,arguments)},kick:function(){return D.apply(this,arguments)},hold:function(){return L.apply(this,arguments)},unhold:function(){return M.apply(this,arguments)},allow:function(){return C.apply(this,arguments)},accept:function(){return U.apply(this,arguments)},reject:function(){return F.apply(this,arguments)},sendMessage:function(e){return _.apply(this,arguments)},camera:s})}var Na=t("MN:Information:Lobby");function Da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var La=t("MN:Information:Users");function Ma(e,t){var r,n,o=t.api,i=ra(La),c=new Map,u=la(f({}),i),s=function(e){function t(){return(t=a(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Na("remove()"),n=r?"deleteUser":"rejectLobbyUserAll",t.next=4,e.request(n).data({"user-entity":r}).send();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function r(e){return n.apply(this,arguments)}function n(){return(n=a(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Na("unhold()"),n=r?"acceptLobbyUser":"acceptLobbyUserAll",t.next=4,e.request(n).data({"user-entity":r}).send();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function o(){return(o=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Na("allow()"),e.next=3,r(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=a(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Na("hold()"),n=r?"waitLobbyUser":"waitLobbyUserAll",t.next=4,e.request(n).data({"user-entity":r}).send();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{remove:function(e){return t.apply(this,arguments)},unhold:r,hold:function(e){return i.apply(this,arguments)},allow:function(e){return o.apply(this,arguments)}}}(o);function f(n){return r=e.user.map((function(e){var r=e.entity,n=c.get(r);return n||(n=Ia(e,t),c.set(r,n)),n})),n}function p(e){return c.has(e)}function l(){return(l=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return La("invite"),e.next=3,o.request("inviteUser").data({uid:t.uid,"sip-url":t.sipURL,"h323-url":t.h323URL});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return(d=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return La("kick"),e.next=3,o.request("deleteUser").data({"user-entity":t}).send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return La("mute"),e.next=3,o.request("muteAll").send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return La("unmute"),e.next=3,o.request("unmuteAll").send();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i,{get data(){return e},get:function(t){return e[t]}},s,{update:function(e){var t=[],r=[],o=[];e&&e.user.forEach((function(e){var n=e.state;p(e.entity)?"deleted"===n?o.push(e):r.push(e):t.push(e)})),f(u),t.forEach((function(e){var t=c.get(e.entity);La("added user:\n\n %s(%s) \n",t.getDisplayText(),t.getEntity()),n.emit("user:added",t)})),r.forEach((function(e){var t=c.get(e.entity);t.update(e),La("updated user:\n\n %s(%s)  \n",t.getDisplayText(),t.getEntity()),n.emit("user:updated",t)})),o.forEach((function(e){var t=e.entity,r=c.get(t);La("deleted user:\n\n %s(%s)  \n",r.getDisplayText(),r.getEntity()),n.emit("user:deleted",r),c.delete(t)})),i.emit("updated",n)},getUserList:function(e){return e?r.filter(e):r},getUser:function(e){return c.get(e)},hasUser:p,getCurrent:function(){return r.find((function(e){return e.isCurrent()}))},getAttendee:function(){return r.filter((function(e){return e.isAttendee()&&!e.isOnHold()}))},getPresenter:function(){return r.filter((function(e){return e.isPresenter()}))},getCastviewer:function(){return r.filter((function(e){return e.isCastviewer()}))},getOrganizer:function(){return r.filter((function(e){return e.isOrganizer()}))},getOnhold:function(){return r.filter((function(e){return e.isOnHold()}))},getHandup:function(){return r.filter((function(e){return e.isHandup()}))},getSharing:function(){return r.filter((function(e){return e.isSharing()}))},getAudioBlocked:function(){return r.filter((function(e){return e.isAudioBlocked()}))},getVideoBlocked:function(){return r.filter((function(e){return e.isVideoBlocked()}))},getSIP:function(){return r.filter((function(e){return e.isSIP()}))},getHTTP:function(){return r.filter((function(e){return e.isHTTP()}))},getRTMP:function(){return r.filter((function(e){return e.isRTMP()}))},invite:function(e){return l.apply(this,arguments)},kick:function(e){return d.apply(this,arguments)},mute:function(){return m.apply(this,arguments)},unmute:function(){return g.apply(this,arguments)}})}var Ca,Ua=t("MN:Information:RTMP");function Fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}!function(e){e.START="start",e.STOP="stop",e.PAUSE="pause",e.RESUME="resume"}(Ca||(Ca={}));var _a=t("MN:Information:RTMP");function qa(e,t){var r,n=t.api,o=ra(_a),i=la(u({}),o),c=function(e){function t(e){return r.apply(this,arguments)}function r(){return(r=a(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ua("operation"),t.next=3,e.request("setRTMP").data({operate:r}).send();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{operation:t,start:function(){return Ua("start"),t(Ca.START)},stop:function(){return Ua("stop"),t(Ca.STOP)},pause:function(){return Ua("pause"),t(Ca.PAUSE)},resume:function(){return Ua("resume"),t(Ca.RESUME)}}}(n);function u(e){return e.enable=f(),e.status=p(),e}function s(t){return t?e.users.find((function(e){return e.entity===t})):e.users.find((function(e){return e.default}))||e.users[0]}function f(){return e["rtmp-enable"]}function p(e){var t=s(e);return t&&t["rtmp-status"]}return r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{get data(){return e},get:function(t){return e[t]},update:function(e){u(i),o.emit("updated",r)},getEnable:f,getStatus:p,getReason:function(e){var t=s(e);return t&&t.reason},getDetail:function(e){var t=s(e);if(t)return{reason:t.reason,status:t["rtmp-status"],lastStartTime:t["rtmp-last-start-time"],lastStopDuration:t["rtmp-last-stop-duration"]}}},c)}var Ba,za=t("MN:Information:Record");function Va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}!function(e){e.START="start",e.STOP="stop",e.PAUSE="pause",e.RESUME="resume"}(Ba||(Ba={}));var Wa=t("MN:Information:Record");function Ga(e,t){var r,n=t.api,o=ra(Wa),i=la(u({}),o),c=function(e){function t(e){return r.apply(this,arguments)}function r(){return(r=a(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request("setRecord").data({operate:r}).send();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{operation:t,start:function(){return za("start()"),t(Ba.START)},stop:function(){return za("stop()"),t(Ba.STOP)},pause:function(){return za("pause()"),t(Ba.PAUSE)},resume:function(){return za("resume()"),t(Ba.RESUME)}}}(n);function u(e){return e.status=f(),e}function s(){return e.user}function f(){return s()["record-status"]}return r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Va(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{get data(){return e},get:function(t){return e[t]},update:function(e){u(i),o.emit("updated",r)},getStatus:f,getReason:function(){return s().reason},getDetail:function(){var e=s();return{reason:e.reason,status:e["record-status"],lastStartTime:e["record-last-start-time"],lastStopDuration:e["record-last-stop-duration"]}}},c)}var Ha=lt.findIndex,$a=!0;"findIndex"in[]&&Array(1).findIndex((function(){$a=!1})),Le({target:"Array",proto:!0,forced:$a},{findIndex:function(e){return Ha(this,e,arguments.length>1?arguments[1]:void 0)}}),xr("findIndex");var Ja=t("MN:Information:Item");function Ya(e){return Wn(e)&&$n(e)&&!Gn(e)}function Za(e){return Ya(e)&&Yn(e,"state")}function Qa(e,t){Ja("mergelist()");var r=!0,n=!1,o=void 0;try{for(var i,a=function(){var t=i.value;Za(t)||(Ja("we don not know how to process a non-partialable item in a list, because it is undocumented"),Ja("treat it as full state item"));var r=t.state,n=void 0===r?"full":r,o=t.entity||t.id;if(!o)return Ja("missing item identity(entity or id)."),"continue";var a=e.findIndex((function(e){return e.entity===o||e.id===o}));return Ja("item identity: %o",o),-1===a?"deleted"===n?(Ja("can not delete item not exist."),"continue"):(Ja("item added"),e.push(t),"continue"):"full"===n?(e.splice(a,1,t),"continue"):"deleted"===n?(Ja("item deleted"),e.splice(a,1),"continue"):void Ka(e[a],t)},c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)a()}catch(e){n=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}return e}function Ka(e,t){if(Ja("merge()"),e===t)return e;if(!Za(t))return t;var r=t.state;if("full"===r)return t;if("deleted"===r)return null;for(var n in"partial"!==r&&(Ja("Error: unknown item state. ".concat(r)),Ja('use merge policy as "partial"')),t)if(Yn(t,n)){var o=t[n],i=e[n];Ja("item key: %s value: %o -> %o",n,i,o),e[n]=Gn(o)?Qa(i,o):Ya(o)?Ka(i,o):o}return e}function Xa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ec=t("MN:Information");function tc(e,t){var r=ra(ec),n=t.api;function o(t){return new Proxy({},{get:function(r,n){var o=e[t];return o&&Reflect.get(o,n)}})}var i,a=ga(o("conference-description"),t),c=ya(o("conference-state")),u=Ra(o("conference-view"),t),s=Ma(o("users"),t),f=qa(o("rtmp-state"),t),p=Ga(o("record-users"),t);return i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{get data(){return e},get version(){return e&&e.version},get:function(t){return e[t]},get description(){return a},get state(){return c},get view(){return u},get users(){return s},get rtmp(){return f},get record(){return p},update:function t(o){ec("update()");var l=e.version,d=o.version,m=o.state;if(d){if(!(d<=l))return d-l>1?(ec("information version jumped."),void n.request("getFullInfo").send().then((function(e){return t(e.data.data)})).catch((function(e){return ec("get full information failed: %o",e)}))):void("deleted"!==m?("full"===m?Object.assign(e,o):Ka(e,o),[{key:"conference-description",part:a},{key:"conference-state",part:c},{key:"conference-view",part:u},{key:"users",part:s},{key:"rtmp-state",part:f},{key:"record-users",part:p}].forEach((function(e){var t=e.key,r=e.part;Yn(o,t)&&r.update(o[t])})),r.emit("updated",i)):ec("can not delete root information."));ec("receive information with invalid version.")}else ec("receive information without version.")}})}var rc=C.f,nc=ke.f,oc=Be("match"),ic=p.RegExp,ac=ic.prototype,cc=/a/g,uc=/a/g,sc=new ic(cc)!==cc;if(d&&Ne("RegExp",!sc||l((function(){return uc[oc]=!1,ic(cc)!=cc||ic(uc)==uc||"/a/i"!=ic(cc,"i")})))){for(var fc=function(e,t){var r=this instanceof fc,n=ei(e),o=void 0===t;return!r&&n&&e.constructor===fc&&o?e:bn(sc?new ic(n&&!o?e.source:e,t):ic((n=e instanceof fc)?e.source:e,n&&o?Hr.call(e):t),r?this:ac,fc)},pc=function(e){e in fc||rc(fc,e,{configurable:!0,get:function(){return ic[e]},set:function(t){ic[e]=t}})},lc=nc(ic),dc=0;lc.length>dc;)pc(lc[dc++]);ac.constructor=fc,fc.prototype=ac,oe(p,"RegExp",fc)}Bo("RegExp");var mc={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:["value","direction","uri","config"],format:function(e){return"extmap:%d".concat(e.direction?"/%s":"%v"," %s").concat(e.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{name:"content",reg:/^content:([^\s]*)/,format:"content:%s"},{name:"label",reg:/^label:([\d]*)/,format:"label:%d"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s".concat(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s".concat(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{push:"invalid",names:["value"]}]};function gc(e){return String(Number(e))===e?Number(e):e}function hc(e,t,r){var n=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:n&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:n?t[e.name]:t;!function(e,t,r,n){if(n&&!r)t[n]=gc(e[1]);else for(var o=0;o<r.length;o+=1)null!=e[o+1]&&(t[r[o]]=gc(e[o+1]))}(r.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)}Object.keys(mc).forEach((function(e){mc[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}));var vc=RegExp.prototype.test.bind(/^([a-z])=(.*)/);function yc(e){var t=[],r={media:t},n=r;return e.split(/(\r\n|\r|\n)/).filter(vc).forEach((function(e){var r=e[0],o=e.slice(2);"m"===r&&(t.push({rtp:[],fmtp:[]}),n=t[t.length-1]);for(var i=0;i<(mc[r]||[]).length;i+=1){var a=mc[r][i];if(a.reg.test(o))return void hc(a,n,o)}})),r.media=t,r}function bc(e,t){var r=t.split(/=(.+)/,2);return 2===r.length&&(e[r[0]]=gc(r[1])),e}function wc(e){return e.split(/\;\s?/).reduce(bc,{})}var Oc=wc;var kc=/%[sdv%]/g,xc=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0,i=r.length;return e.replace(kc,(function(e){if(o>=i)return e;var t=r[o];switch(o+=1,e){case"%%":return"%";case"%s":return String(t);case"%d":return Number(t);case"%v":return"";default:return t}}))},Sc=function(e,t,r){var n=t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format,o="".concat(e,"=").concat(n),i=[];if(t.names)for(var a=0;a<t.names.length;a+=1){i.push(t.name?r[t.name][t.names[a]]:r[t.names[a]])}else i.push(r[t.name]);return xc.apply(void 0,[o].concat(i))},jc=["v","o","s","i","u","e","p","c","b","t","r","z","a"],Rc=["i","c","b","a"];function Ec(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.innerOrder||Rc,n=[];return(t.outerOrder||jc).forEach((function(t){mc[t].forEach((function(r){r.name in e&&null!=e[r.name]?n.push(Sc(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){n.push(Sc(t,r,e))}))}))})),e.media.forEach((function(e){n.push(Sc("m",mc.m[0],e)),r.forEach((function(t){mc[t].forEach((function(r){r.name in e&&null!=e[r.name]?n.push(Sc(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){n.push(Sc(t,r,e))}))}))}))})),"".concat(n.join("\r\n"),"\r\n")}function Pc(e){if(e)try{e.getTracks?e.getTracks().forEach((function(e){return e.stop()})):(e.getAudioTracks().forEach((function(e){return e.stop()})),e.getVideoTracks().forEach((function(e){return e.stop()})))}catch(t){"function"!=typeof e.stop&&"object"!==Lr(e.stop)||e.stop()}}function Tc(e){return e.close=e.stop=function(){Pc(this)},e.pause=function(){this.getTracks().forEach((function(e){return e.enabled=!1}))},e.play=function(){this.getTracks().forEach((function(e){return e.enabled=!0}))},e.muteAudio=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getAudioTracks().forEach((function(t){return t.enabled=!e}))},e.muteVideo=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getVideoTracks().forEach((function(t){return t.enabled=!e}))},e}function Ac(e){return Ic.apply(this,arguments)}function Ic(){return(Ic=a(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.mediaDevices.getUserMedia){e.next=6;break}return e.next=3,navigator.mediaDevices.getUserMedia(t);case 3:r=e.sent,e.next=13;break;case 6:if(!navigator.getUserMedia){e.next=12;break}return e.next=9,new Promise((function(e,r){navigator.getUserMedia(t,e,r)}));case 9:r=e.sent,e.next=13;break;case 12:throw new Error("Not Supported");case 13:return e.abrupt("return",Tc(r));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nc=p.isFinite;Le({target:"Number",stat:!0},{isFinite:Number.isFinite||function(e){return"number"==typeof e&&Nc(e)}});function Dc(){var e,t=-1,r={},n={},o=[];function i(e,t){var r=e.get(t.codecId),n=e.get(t.trackId),o=e.get(t.transportId),i=e.get(t.remoteId);if(r&&(r.name=r.mimeType.split("/")[1]),o){var a=e.get(o.localCertificateId),c=e.get(o.remoteCertificateId),u=e.get(o.selectedCandidatePairId);o.localCertificate=a,o.remoteCertificate=c,o.selectedCandidatePair=u}return i&&(t.packetsLost=i.packetsLost||t.packetsLost),t.codec=r,t.track=n,t.transport=o,t}function a(t,r){if(t){var n=e[r][t.mediaType],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return void 0!==e[r]&&void 0!==t[r]?Math.abs(e[r]-t[r]):0},i=function(e){return Number.isFinite(e)?Number.isNaN(e)?0:e:0};if(n){if(!n.trackId||Boolean(t.trackId)){var a,u=o(t,n,"timestamp");if("outbound"===r&&!t.packetsLostRate){var s=c()[r][t.mediaType],f=o(t,s,"packetsLost"),p=f+o(t,s,"packetsSent");t.packetsLostRate=0===p?0:i(f/p),t.packetsLostRate*=100}if("inbound"===r&&!t.packetsLostRate){var l=c()[r][t.mediaType],d=o(t,l,"packetsLost"),m=d+o(t,l,"packetsReceived");t.packetsLostRate=0===m?0:i(d/m),t.packetsLostRate*=100}"outbound"!==r||t.outgoingBitrate||(a=o(t,n,"bytesSent"),t.outgoingBitrate=i(8*a/u)),"inbound"!==r||t.incomingBitrate||(a=o(t,n,"bytesReceived"),t.incomingBitrate=i(8*a/u)),t.transport&&n.transport&&!t.transport.outgoingBitrate&&(a=o(t.transport,n.transport,"bytesSent"),t.transport.outgoingBitrate=i(8*a/u)),t.transport&&n.transport&&!t.transport.incomingBitrate&&(a=o(t.transport,n.transport,"bytesReceived"),t.transport.incomingBitrate=i(8*a/u)),"video"===t.mediaType&&t.track&&n.track&&!t.track.frameRate&&("inbound"===r&&(a=o(t.track,n.track,"framesReceived")),"outbound"===r&&(a=o(t.track,n.track,"framesSent")),t.track.frameRate=a?i(a/u*1e3):0),e[r][t.mediaType]=t}}else e[r][t.mediaType]=t}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=o,r=t.length;return e=Math.max(e,0),e=Math.min(e,r-1),o[e]}return e={get quality(){return t},get inbound(){return r},get outbound(){return n},update:function(e){var c={},u={},s=!1;e.forEach((function(t){switch("function"==typeof t.stat&&(s=!0),t.type){case"codec":break;case"inbound-rtp":t.isRemote&&!1!==t.isRemote||(c[t.mediaType]=i(e,t));break;case"outbound-rtp":t.isRemote&&!1!==t.isRemote||(u[t.mediaType]=i(e,t));break;case"ssrc":!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r&&(t.mediaType=t.stat("mediaType"),t.googCodecName=t.stat("googCodecName"),t.codecImplementationName=t.stat("codecImplementationName"),t.googFrameHeightReceived=t.stat("googFrameHeightReceived"),t.googFrameHeightSent=t.stat("googFrameHeightSent"),t.googFrameWidthReceived=t.stat("googFrameWidthReceived"),t.googFrameWidthSent=t.stat("googFrameWidthSent"),t.googFrameRateReceived=t.stat("googFrameRateReceived"),t.googFrameRateSent=t.stat("googFrameRateSent"),t.packetsLost=t.stat("packetsLost"),t.packetsSent=t.stat("packetsSent"),t.packetsReceived=t.stat("packetsReceived"),t.bytesSent=t.stat("bytesSent"),t.bytesReceived=t.stat("bytesReceived"));var n={name:t.googCodecName,implementationName:t.codecImplementationName},o={frameHeight:t.googFrameHeightReceived||t.googFrameHeightSent,frameWidth:t.googFrameWidthReceived||t.googFrameWidthSent,frameRate:t.googFrameRateReceived||t.googFrameRateSent};t.codec=n,t.track=o}(e,t,s),/recv/g.test(t.id)&&(c[t.mediaType]=t),/send/g.test(t.id)&&(u[t.mediaType]=t)}})),a(c.audio,"inbound"),a(c.video,"inbound"),a(u.audio,"outbound"),a(u.video,"outbound");var f=0,p=0;if(r.audio&&(p++,f+=r.audio.packetsLostRate||0),r.video&&(p++,f+=r.video.packetsLostRate||0),p){var l=f/p;t=l>=12?0:l>=5?1:l>=3?2:l>=2?3:4}!function(){10===o.length&&o.shift();o.push({quality:t,inbound:r,outbound:n})}()},clear:function(){t=-1,r={},n={},o=[]}}}function Lc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Mc,Cc=t("MN:Channel"),Uc=ro();!function(e){e[e.kNull=0]="kNull",e[e.kProgress=1]="kProgress",e[e.kOffered=2]="kOffered",e[e.kAnswered=3]="kAnswered",e[e.kAccepted=4]="kAccepted",e[e.kCanceled=5]="kCanceled",e[e.kTerminated=6]="kTerminated"}(Mc||(Mc={}));var Fc=["audio","video"];function _c(e){var t,r,n,o=e.invite,i=e.confirm,c=e.cancel,u=e.bye,s=ra(Cc),f=Mc.kNull,p=!1,l=Dc(),d=!1,m=!1,g=!1,h=!1,v=!1;function y(e,t){if(f!==e)throw new Error(t||"Invalid State")}function b(){if(p)throw new Error("Terminated");!function(e,t){if(f===e)throw new Error(t||"Invalid State")}(Mc.kTerminated,"Terminated")}function w(e){Cc("createRTCConnection()"),(t=new RTCPeerConnection(e)).addEventListener("iceconnectionstatechange",(function(){t&&("failed"===t.iceConnectionState&&(s.emit("peerconnection:connectionfailed"),S("RTP Timeout")))})),s.emit("peerconnection",t)}function O(e,t){return k.apply(this,arguments)}function k(){return(k=a(regeneratorRuntime.mark((function e(r,n){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cc("createLocalDescription()"),m=!1,"offer"!==r){e.next=16;break}return e.prev=3,e.next=6,t.createOffer(n);case 6:o=e.sent,e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(3),Cc("createOffer failed: %o",e.t0),s.emit("peerconnection:createofferfailed",e.t0),e.t0;case 14:e.next=31;break;case 16:if("answer"!==r){e.next=30;break}return e.prev=17,e.next=20,t.createAnswer(n);case 20:o=e.sent,e.next=28;break;case 23:throw e.prev=23,e.t1=e.catch(17),Cc("createAnswer failed: %o",e.t1),s.emit("peerconnection:createanswerfailed",e.t1),e.t1;case 28:e.next=31;break;case 30:throw new TypeError("Invalid Type");case 31:return e.prev=31,e.next=34,t.setLocalDescription(o);case 34:e.next=42;break;case 36:throw e.prev=36,e.t2=e.catch(31),Cc("setLocalDescription failed: %o",e.t2),m=!0,s.emit("peerconnection:setlocaldescriptionfailed",e.t2),e.t2;case 42:return e.next=44,new Promise((function(e){if("complete"!==t.iceGatheringState){var r,n=!1,o=function(){t.removeEventListener("icecandidate",r),n=!0,e()};t.addEventListener("icecandidate",r=function(e){var t=e.candidate;t?s.emit("icecandidate",{candidate:t,ready:o}):n||o()})}else e()}));case 44:return m=!0,s.emit("sdp",o={originator:"local",type:r,sdp:t.localDescription.sdp}),e.abrupt("return",o.sdp);case 49:case"end":return e.stop()}}),e,null,[[3,9],[17,23],[31,36]])})))).apply(this,arguments)}function x(){return(x=a(regeneratorRuntime.mark((function e(){var a,c,p,l,m,g,h,v,k,x,S=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S.length>0&&void 0!==S[0]?S[0]:{},Cc("connect()"),y(Mc.kNull),window.RTCPeerConnection){e.next=5;break}throw new Error("WebRTC not supported");case 5:if(f=Mc.kProgress,P("local"),s.emit("connecting"),r=void 0===(p=a.rtcOfferConstraints)?{offerToReceiveAudio:!0,offerToReceiveVideo:!0}:p,l=a.mediaStream,g=void 0===(m=a.mediaConstraints)?{audio:!0,video:!0}:m,w(void 0===(c=a.rtcConstraints)?{sdpSemantics:"plan-b",iceServers:[{urls:"stun:stun.l.google.com:19302"}]}:c),!l){e.next=19;break}n=l,d=!1,e.next=24;break;case 19:if(!g.audio&&!g.video){e.next=24;break}return e.next=22,Ac(g).catch((function(e){throw I("local","User Denied Media Access"),Cc("getusermedia failed: %o",e),e}));case 22:n=e.sent,d=!0;case 24:return b(),n&&n.getTracks().forEach((function(e){t.addTrack(e,n)})),e.next=28,O("offer",r).catch((function(e){throw I("local","WebRTC Error"),Cc("createOff|setLocalDescription failed: %o",e),e}));case 28:return h=e.sent,b(),f=Mc.kOffered,e.prev=31,e.next=34,o({sdp:h});case 34:v=e.sent,e.next=42;break;case 37:throw e.prev=37,e.t0=e.catch(31),I("local","Request Error"),Cc("invite failed: %o",e.t0),e.t0;case 42:if(b(),f=Mc.kAnswered,s.emit("sdp",k={originator:"remote",type:"answer",sdp:v.sdp}),"stable"!==t.signalingState){e.next=63;break}return e.prev=48,e.next=51,t.createOffer();case 51:return x=e.sent,e.next=54,t.setLocalDescription(x);case 54:e.next=63;break;case 56:return e.prev=56,e.t1=e.catch(48),I("local","WebRTC Error"),Cc("createOff|setLocalDescription failed: %o",e.t1),e.next=62,u();case 62:throw e.t1;case 63:return e.prev=63,e.next=66,t.setRemoteDescription({type:"answer",sdp:k.sdp});case 66:e.next=76;break;case 68:return e.prev=68,e.t2=e.catch(63),I("local","Bad Media Description"),s.emit("peerconnection:setremotedescriptionfailed",e.t2),Cc("setRemoteDescription failed: %o",e.t2),e.next=75,u();case 75:throw e.t2;case 76:return e.prev=76,e.next=79,i();case 79:e.next=86;break;case 81:throw e.prev=81,e.t3=e.catch(76),I("local","Request Error"),Cc("confirm failed: %o",e.t3),e.t3;case 86:f=Mc.kAccepted,T("local"),s.emit("connected");case 89:case"end":return e.stop()}}),e,null,[[31,37],[48,56],[63,68],[76,81]])})))).apply(this,arguments)}function S(e){return j.apply(this,arguments)}function j(){return(j=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cc("terminate()"),e.t0=f,e.next=e.t0===Mc.kNull?4:e.t0===Mc.kTerminated?4:e.t0===Mc.kProgress?5:e.t0===Mc.kOffered?5:e.t0===Mc.kAnswered?15:e.t0===Mc.kAccepted?15:19;break;case 4:return e.abrupt("break",20);case 5:if(Cc("canceling channel"),f!==Mc.kOffered){e.next=11;break}return e.next=9,c(t);case 9:e.next=12;break;case 11:p=!0;case 12:return f=Mc.kCanceled,I("local","Canceled"),e.abrupt("break",20);case 15:return e.next=17,u(t);case 17:return A("local","Terminated"),e.abrupt("break",20);case 19:return e.abrupt("break",20);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){if(Cc("close()"),f!==Mc.kTerminated){if(t)try{t.close(),t=void 0}catch(e){Cc("error closing RTCPeerConnection %o",e)}n&&d&&Pc(n),n=void 0,d=!1,l.clear(),f=Mc.kTerminated}}function E(){var e=!0,r=!0;v&&(e=!1,r=!1),g&&(e=!1),h&&(r=!1),function(e){t.getSenders().forEach((function(t){t.track&&"audio"===t.track.kind&&(t.track.enabled=!e)}))}(!e),function(e){t.getSenders().forEach((function(t){t.track&&"video"===t.track.kind&&(t.track.enabled=!e)}))}(!r)}function P(e,t){Cc("channel progress"),s.emit("progress",{originator:e,message:t})}function T(e,t){Cc("channel accepted"),s.emit("accepted",{originator:e,message:t})}function A(e,t){Cc("channel ended"),R(),s.emit("ended",{originator:e,message:t})}function I(e,t){Cc("channel failed"),R(),s.emit("failed",{originator:e,message:t})}function N(){E(),s.emit("mute",{audio:g,video:h})}function D(){E(),s.emit("unmute",{audio:!g,video:!h})}function L(e){E(),s.emit("hold",{originator:e,localHold:v,remoteHold:!1})}function M(e){E(),s.emit("unhold",{originator:e,localHold:v,remoteHold:!1})}function C(){return(C=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cc("unhold()"),!v){e.next=4;break}return Cc("Already hold"),e.abrupt("return");case 4:return v=!0,L("local"),e.next=8,F();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cc("unhold()"),v){e.next=4;break}return Cc("Already unhold"),e.abrupt("return");case 4:return v=!1,M("local"),e.next=8,F();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return _.apply(this,arguments)}function _(){return(_=a(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cc("renegotiate()"),m){e.next=5;break}return Cc("RTC not ready"),e.abrupt("return");case 5:return e.next=7,O("offer",r);case 7:return n=e.sent,e.next=10,o({sdp:q(n)});case 10:s.emit("sdp",i={originator:"remote",type:"answer",sdp:e.sent.sdp}),e.prev=13,t.setRemoteDescription({type:"answer",sdp:i.sdp}),e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(13),s.emit("peerconnection:setremotedescriptionfailed",e.t0),e.t0;case 21:case"end":return e.stop()}}),e,null,[[13,17]])})))).apply(this,arguments)}function q(e){if(Cc("mangleOffer()"),!v)return e;var t=yc(e);if(v){var r=!0,n=!1,o=void 0;try{for(var i,a=t.media[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var c=i.value;-1!==Fc.indexOf(c.type)&&(c.direction?"sendrecv"===c.direction?c.direction="sendonly":"recvonly"===c.direction&&(c.direction="inactive"):c.direction="sendonly")}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}else{}return Ec(t)}function B(e){Cc("addLocalStream()"),e&&(t.addTrack?e.getTracks().forEach((function(r){t.addTrack(r,e)})):t.addStream&&t.addStream(e))}function z(){Cc("removeLocalStream()"),t.getSenders&&t.removeTrack?t.getSenders().forEach((function(e){e.track&&e.track.stop(),t.removeTrack(e)})):t.getLocalStreams&&t.removeStream&&t.getLocalStreams().forEach((function(e){e.getTracks().forEach((function(e){e.stop()})),t.removeStream(e)}))}function V(){return(V=a(regeneratorRuntime.mark((function e(r){var n,o,i,c,u,s,f,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(e){e.replaceTrack=function(){var n=a(regeneratorRuntime.mark((function n(o){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.removeTrack(e),t.addTrack(o,r),n.next=4,t.createOffer();case 4:return(i=n.sent).type=t.localDescription.type,i.sdp=W(t.localDescription.sdp,i.sdp),n.next=9,t.setLocalDescription(i);case 9:return n.next=11,t.setRemoteDescription(t.remoteDescription);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},n=p.length>1&&void 0!==p[1]&&p[1],Cc("replaceLocalStream()"),o=r?r.getAudioTracks()[0]:null,i=r?r.getVideoTracks()[0]:null,c=[],!1,u=!1,s=!1,t.getSenders&&(t.getSenders().forEach((function(e){e.track&&(u="audio"===e.track.kind||u,s="video"===e.track.kind||s)})),Boolean(o)!==u||Boolean(i)!==s||n?(z(),B(r),c.push(F())):t.getSenders().forEach((function(e){e.track&&(e.replaceTrack||e.prototype&&e.prototype.replaceTrack||f(e),o&&"audio"===e.track.kind&&c.push(e.replaceTrack(o).catch((function(e){Cc("replace audio track error: %o",e)}))),i&&"video"===e.track.kind&&c.push(e.replaceTrack(i).catch((function(e){Cc("replace video track error: %o",e)}))))}))),e.next=12,Promise.all(c);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){var r=e.match(/a=ssrc-group:FID (\d+) (\d+)\r\n/),n=t.match(/a=ssrc-group:FID (\d+) (\d+)\r\n/);r||(r=e.match(/a=ssrc:(\d+) cname:(.*)\r\n/g)[1].match(/a=ssrc:(\d+)/),n=t.match(/a=ssrc:(\d+) cname:(.*)\r\n/g)[1].match(/a=ssrc:(\d+)/));for(var o=1;o<r.length;o++)t=t.replace(new RegExp(n[o],"g"),r[o]);return t}function G(){return(G=a(regeneratorRuntime.mark((function e(r){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cc("adjustBandWidth()"),n=r.audio,o=r.video,i=[],"RTCRtpSender"in window&&"setParameters"in window.RTCRtpSender.prototype?t.getSenders().forEach((function(e){if(!e.track){var t=e.getParameters();void 0!==n&&"audio"===e.track.kind&&(0===n?delete t.encodings[0].maxBitrate:t.encodings[0].maxBitrate=1024*n,i.push(e.setParameters(t).catch((function(e){Cc("apply audio parameters error: %o",e)})))),void 0!==o&&"video"===e.track.kind&&(0===o?delete t.encodings[0].maxBitrate:t.encodings[0].maxBitrate=1024*o,i.push(e.setParameters(t).catch((function(e){Cc("apply video parameters error: %o",e)}))))}})):i.push(t.createOffer().then((function(e){return t.setLocalDescription(e)})).then((function(){var e=yc(t.remoteDescription.sdp),r=!0,i=!1,a=void 0;try{for(var c,u=e.media[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var s=c.value;void 0!==n&&"audio"===s.type&&(s.bandwidth=0===n?[]:[{type:"TIAS",limit:Math.ceil(1024*n)}]),void 0!==o&&"video"===s.type&&(s.bandwidth=0===o?[]:[{type:"TIAS",limit:Math.ceil(1024*o)}])}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}var f={type:t.remoteDescription.type,sdp:Ec(e)};return t.setRemoteDescription(f)})).catch((function(e){Cc("applying bandwidth restriction to setRemoteDescription error: %o",e)}))),e.next=6,Promise.all(i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=a(regeneratorRuntime.mark((function e(r){var n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cc("applyConstraints()"),n=r.audio,o=r.video,i=[],t.getSenders&&window.MediaStreamTrack.prototype.applyConstraints&&t.getSenders().forEach((function(e){n&&e.track&&"audio"===e.track.kind&&i.push(e.track.applyConstraints(n).catch((function(e){Cc("apply audio constraints error: %o",e)}))),o&&e.track&&"video"===e.track.kind&&i.push(e.track.applyConstraints(o).catch((function(e){Cc("apply video constraints error: %o",e)})))})),e.next=6,Promise.all(i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=a(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cc("getStats()"),"stable"!==t.signalingState){e.next=14;break}if(!Uc.chrome){e.next=8;break}return e.next=5,new Promise((function(e){t.getStats((function(t){e(t.result())}))}));case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,t.getStats();case 10:r=e.sent;case 11:l.update(r),e.next=15;break;case 14:Cc("update rtc stats failed since connection is unstable.");case 15:return e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lc(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},s,{get status(){return f},get connection(){return t},isInProgress:function(){switch(f){case Mc.kProgress:case Mc.kOffered:case Mc.kAnswered:return!0;default:return!1}},isEstablished:function(){return f===Mc.kAccepted},isEnded:function(){switch(f){case Mc.kCanceled:case Mc.kTerminated:return!0;default:return!1}},getMute:function(){return{audio:g,video:h}},getHold:function(){return{local:v,remote:!1}},connect:function(){return x.apply(this,arguments)},terminate:S,renegotiate:F,mute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!1};Cc("mute()");var t=!1;!1===g&&e.audio&&(t=!0,g=!0),!1===h&&e.video&&(t=!0,h=!0),t&&N()},unmute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{audio:!0,video:!0};Cc("unmute()");var t=!1;!0===g&&e.audio&&(t=!0,g=!1),!0===h&&e.video&&(t=!0,h=!1),t&&D()},hold:function(){return C.apply(this,arguments)},unhold:function(){return U.apply(this,arguments)},getRemoteStream:function(){var e;return Cc("getRemoteStream()"),t.getReceivers?(e=new window.MediaStream,t.getReceivers().forEach((function(t){var r=t.track;r&&e.addTrack(r)}))):t.getRemoteStreams&&(e=t.getRemoteStreams()[0]),e},addLocalStream:B,removeLocalStream:z,getLocalStream:function(){var e;return Cc("getLocalStream()"),t.getSenders?(e=new window.MediaStream,t.getSenders().forEach((function(t){var r=t.track;r&&e.addTrack(r)}))):t.getLocalStreams&&(e=t.getLocalStreams()[0]),e},setLocalStream:function(e){z(),B(e)},replaceLocalStream:function(e){return V.apply(this,arguments)},adjustBandWidth:function(e){return G.apply(this,arguments)},applyConstraints:function(e){return H.apply(this,arguments)},getStats:function(){return $.apply(this,arguments)}})}var qc=!xo((function(e){Array.from(e)}));Le({target:"Array",stat:!0,forced:qc},{from:function(e){var t,r,n,o,i,a=Ce(e),c="function"==typeof this?this:Array,u=arguments.length,s=u>1?arguments[1]:void 0,f=void 0!==s,p=0,l=po(a);if(f&&(s=st(s,u>2?arguments[2]:void 0,2)),null==l||c==Array&&so(l))for(r=new c(t=le(a.length));t>p;p++)Ue(r,p,f?s(a[p],p):a[p]);else for(i=(o=l.call(a)).next,r=new c;!(n=i.call(o)).done;p++)Ue(r,p,f?lo(o,s,[n.value,p],!0):n.value);return r.length=p,r}});var Bc=[].sort,zc=[1,2,3],Vc=l((function(){zc.sort(void 0)})),Wc=l((function(){zc.sort(null)})),Gc=dt("sort");Le({target:"Array",proto:!0,forced:Vc||!Wc||Gc},{sort:function(e){return void 0===e?Bc.call(Ce(this)):Bc.call(Ce(this),ut(e))}});So("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Ho);var Hc=function(e){if(ei(e))throw TypeError("The method doesn't accept regular expressions");return e},$c=Be("match");Le({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[$c]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~String(k(this)).indexOf(Hc(e),arguments.length>1?arguments[1]:void 0)}});var Jc=t("MN:SDP"),Yc=ro();function Zc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Qc,Kc=t("MN:MediaChannel");function Xc(e){var t,r,n,o,i,c,u,s,f,p,l,d,m,g,h,v=e.api,y=e.type,b=void 0===y?"main":y,w=_c({invite:(u=a(regeneratorRuntime.mark((function e(o){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kc("invite()"),i=o.sdp,n=v.request(t?"main"===b?"renegMedia":"renegShare":"main"===b?"joinMedia":"joinShare").data({sdp:i,"media-version":t}),e.next=6,n.send();case 6:return i=(a=e.sent.data.data).sdp,t=a["media-version"],Kc("MCU call-id: %s",r=a["mcu-callid"]),e.abrupt("return",{sdp:i});case 13:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)}),confirm:function(){Kc("confirm()"),n=void 0,i=w.getLocalStream(),w.emit("localstream",i)},cancel:function(){Kc("cancel()"),n&&n.cancel()},bye:function(){Kc("bye()"),n=void 0}});return w.on("sdp",(l="main",d=1920,m=1080,g=30,h=!1,p={content:function(e){return l=e,p},width:function(e){return d=e,p},height:function(e){return m=e,p},frameRate:function(e){return g=e,p},highFrameRate:function(e){return h=e,p},prefer:function(e){return s=e,p},unsupport:function(e){return f=e,p},build:function(){return function(e){var t=e.originator,r=e.type,n=yc(e.sdp),o=m,i=g,a=Math.ceil(d*o/255),c=Math.ceil(i*a),u=o>=1080?2048:o>=720?1280:512;u=Math.ceil(u*i/30);var p=!0,v=!1,y=void 0;try{for(var b,w=function(){var e=b.value;if("video"===e.type){e.content=l,e.bandwidth=[{type:"TIAS",limit:Math.ceil(1024*u)}];var n=new Set,o=new Set,p=["max-fr=".concat(i),"max-fs=".concat(a)],d=["max-mbps=".concat(c),"max-fs=".concat(a)],m=!0,g=!1,v=void 0;try{for(var y,w=function(){var i=y.value,a=void 0;switch(i.codec.toUpperCase()){case"VP8":case"VP9":n.add(Number(i.payload)),(a=e.fmtp.find((function(e){return e.payload===i.payload})))?a.config=a.config.split(";").filter((function(e){return!(/^max-fr/.test(e)||/^max-fs/.test(e))})).concat(p).join(";"):e.fmtp.push({payload:i.payload,config:p.join(";")});break;case"H264":o.add(Number(i.payload)),(a=e.fmtp.find((function(e){return e.payload===i.payload})))?a.config=h&&-1!==a.config.indexOf("profile-level-id=42e01f")&&"local"===t&&"offer"===r?a.config.split(";").filter((function(e){return!(/^max-mbps/.test(e)||/^max-fs/.test(e)||/^profile-level-id/.test(e))})).concat(["profile-level-id=64001f"]).concat(d).join(";"):h&&-1!==a.config.indexOf("profile-level-id=64001f")&&"remote"===t&&"answer"===r?a.config.split(";").filter((function(e){return!(/^max-mbps/.test(e)||/^max-fs/.test(e)||/^profile-level-id/.test(e))})).concat(["profile-level-id=42e01f"]).concat(d).join(";"):a.config.split(";").filter((function(e){return!(/^max-mbps/.test(e)||/^max-fs/.test(e))})).concat(d).join(";"):e.fmtp.push({payload:i.payload,config:d.join(";")})}},O=e.rtp[Symbol.iterator]();!(m=(y=O.next()).done);m=!0)w()}catch(e){g=!0,v=e}finally{try{m||null==O.return||O.return()}finally{if(g)throw v}}var k=!0,x=!1,S=void 0;try{for(var j,R=e.fmtp[Symbol.iterator]();!(k=(j=R.next()).done);k=!0){var E=j.value,P=E.config.split(";").find((function(e){return/^apt=/.test(e)}));if(P){var T=P.split("=")[1];n.has(Number(T))?n.add(Number(E.payload)):o.has(Number(T))&&o.add(Number(E.payload))}}}catch(e){x=!0,S=e}finally{try{k||null==R.return||R.return()}finally{if(x)throw S}}var A="vp8"===s?n:"h264"===s?o:new Set,I="vp8"===f?n:"h264"===f?o:new Set;if((Yc.firefox||Yc.chrome&&parseInt(Yc.version,10)<63&&"slides"===l)&&(A=n),!A.size||!I.size){var N=String(e.payloads).split(" ");N=(N=N.filter((function(e){return!A.has(Number(e))}))).filter((function(e){return!I.has(Number(e))})),N=Array.from(A).sort((function(e,t){return e-t})).concat(N),e.rtp=e.rtp.filter((function(e){return!I.has(Number(e.payload))})),e.fmtp=e.fmtp.filter((function(e){return!I.has(Number(e.payload))}));var D=[],L=[];N.forEach((function(t){var r=e.rtp.find((function(e){return e.payload===Number(t)})),n=e.fmtp.find((function(e){return e.payload===Number(t)}));r&&D.push(r),n&&L.push(n)})),e.rtp=D,e.fmtp=L,e.payloads=N.join(" ")}}"audio"===e.type&&(e.bandwidth=[{type:"TIAS",limit:Math.ceil(131072)}])},O=n.media[Symbol.iterator]();!(p=(b=O.next()).done);p=!0)w()}catch(e){v=!0,y=e}finally{try{p||null==O.return||O.return()}finally{if(v)throw y}}n.media=n.media.filter((function(e){return"application"!==e.type||/TLS/.test(e.protocol)})),"remote"===t&&(n.media.forEach((function(e){var t=String(e.payloads).split(" ");if(e.rtcpFb){var r=[];e.rtcpFb.forEach((function(e){("*"===e.payload||t.includes("".concat(e.payload)))&&r.push(e)})),e.rtcpFb=r}if(e.fmtp){var n=[];e.fmtp.forEach((function(e){("*"===e.payload||t.includes("".concat(e.payload)))&&n.push(e)})),e.fmtp=n}if(e.rtp){var o=[];e.rtp.forEach((function(e){("*"===e.payload||t.includes("".concat(e.payload)))&&o.push(e)})),e.rtp=o}})),"offer"===r&&Yc.firefox&&n.media.forEach((function(e){void 0===e.mid&&(e.mid="audio"===e.type?0:"video"===e.type?1:e.mid)}))),e.sdp=Ec(n),Jc("".concat(t," sdp: \n\n %s \n"),e.sdp)}}}).content(b).prefer("h264").build()),w.on("peerconnection",(function(e){e.addEventListener("connectionstatechange",(function(){Kc("peerconnection:connectionstatechange : %s",e.connectionState)})),e.addEventListener("iceconnectionstatechange",(function(){Kc("peerconnection:iceconnectionstatechange : %s",e.iceConnectionState)})),e.addEventListener("icegatheringstatechange",(function(){Kc("peerconnection:icegatheringstatechange : %s",e.iceGatheringState)})),e.addEventListener("negotiationneeded",(function(){Kc("peerconnection:negotiationneeded")})),e.addEventListener("track",(function(e){Kc("peerconnection:track: %o",e),w.emit("remotestream",c=e.streams[0])})),e.addEventListener("addstream",(function(e){Kc("peerconnection:addstream: %o",e),w.emit("remotestream",c=e.stream)})),e.addEventListener("removestream",(function(e){Kc("peerconnection:removestream: %o",e),c=w.getRemoteStream(),w.emit("removestream",c)}))})),w.on("icecandidate",(function(e){var t=e.candidate,r=e.ready;o&&(clearTimeout(o),o=void 0),t&&(o=setTimeout((function(){Kc("ICE gathering timeout in 3 seconds"),r()}),3e3))})),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zc(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},w,{get status(){return w.status},get connection(){return w.connection},get version(){return t},get callId(){return r}})}!function(e){e[e.kNull=0]="kNull",e[e.kSending=1]="kSending",e[e.kSuccess=2]="kSuccess",e[e.kFailed=3]="kFailed"}(Qc||(Qc={}));var eu=t("MN:Message");function tu(e){var t,r,n,o,i,c,u=e.api,s=e.onSucceeded,f=e.onFailed,p=Qc.kNull,l="outgoing",d=e.sender,m=!1;function g(e,t){return h.apply(this,arguments)}function h(){return(h=a(regeneratorRuntime.mark((function e(i,a){var d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(eu("send()"),"incoming"!==l){e.next=3;break}throw new Error("Invalid Status");case 3:return p=Qc.kSending,c=u.request("pushMessage").data({"im-context":i,"user-entity-list":a}),e.prev=5,e.next=8,c.send();case 8:d=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),p=Qc.kFailed,f&&f(i),e.t0;case 16:t=i,o=a,n=(m=d.data.data)["im-version"],r=m["im-timestamp"],p=Qc.kSuccess,s&&s(i);case 24:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function v(){return(v=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(eu("retry()"),t){e.next=3;break}throw new Error("Invalid Message");case 3:return e.next=5,g(t,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i={get status(){return p},get direction(){return l},get content(){return t},get timestamp(){return r},get version(){return n},get sender(){return d},get receiver(){return o},get private(){return o&&o.length>0||m},send:g,retry:function(){return v.apply(this,arguments)},cancel:function(){eu("cancel()"),c&&(c.cancel(),c=void 0)},incoming:function(e){return l="incoming",t=e["im-context"],r=e["im-timestamp"],n=e["im-version"],m=e["is-private"],d={entity:e["sender-entity"],subjectId:e["sender-subject-id"],displayText:e["sender-display-text"]},i}}}function ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var nu=t("MN:ChatChannel");function ou(e){var t,r=e.api,n=e.sender,o=ra(nu),i=[],c=!1;function u(){return(u=a(regeneratorRuntime.mark((function e(){var n,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>0&&void 0!==a[0]?a[0]:2e3,nu("connect()"),!c){e.next=4;break}return e.abrupt("return");case 4:return t=r.request("pullMessage").data({count:n}),e.next=7,t.send();case 7:i=e.sent.data.data.imInfos.map((function(e){return tu({api:r}).incoming(e)})),c=!0,o.emit("ready"),o.emit("connected");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nu("terminate()"),i=[],c=!1,t&&(t.cancel(),t=void 0),o.emit("disconnected");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=a(regeneratorRuntime.mark((function e(t,a){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nu("sendMessage()"),c=tu({api:r,sender:n}),o.emit("message",{originator:"local",message:c}),e.next=5,c.send(t,a);case 5:return i.push(c),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ru(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{get ready(){return c},connect:function(){return u.apply(this,arguments)},terminate:function(){return s.apply(this,arguments)},sendMessage:function(e,t){return f.apply(this,arguments)},incoming:function(e){nu("incoming()");var t=tu({api:r}).incoming(e);return o.emit("message",{originator:"remote",message:t}),i.push(t),t}})}function iu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function au(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var cu=t("MN:Conference"),uu=eo(),su=ro();function fu(t){var r,n,o,i,c,u,s,f,p,l,d,m,g,h,v=t.api,y=ra(cu),b=e.STATUS.kNull;function w(){return p||(p=o.users.getCurrent())&&(y.emit("user",p),p.on("holdChanged",E)),p}function O(e,t){if(b===e)throw new Error(t||"Invalid State")}function k(e,t){if(b!==e)throw new Error(t||"Invalid State")}function x(){cu("conference connecting"),b=e.STATUS.kConnecting,y.emit("connecting")}function S(){cu("conference connected"),function(){w();var t=o.state,i=o.users;t.on("sharingUserEntityChanged",(function(e){y.emit("sharinguser",i.getUser(e))})),t.on("speechUserEntityChanged",(function(e){y.emit("speechuser",i.getUser(e))})),i.on("user:added",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.emit.apply(y,["user:added"].concat(t))})),i.on("user:updated",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.emit.apply(y,["user:updated"].concat(t))})),i.on("user:deleted",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.emit.apply(y,["user:deleted"].concat(t))})),r=aa({api:v}),n=fa({api:v,onInformation:function(e){cu("receive information: %o",e),o.update(e),y.emit("information",o),w()},onMessage:function(e){cu("receive message: %o",e),f.incoming(e)},onRenegotiate:function(e){cu("receive renegotiate: %o",e),u.renegotiate()},onQuit:function(t){cu("receive quit: %o",t),b!==e.STATUS.kDisconnecting&&b!==e.STATUS.kDisconnected&&R(t)},onError:function(e){cu("polling error, about to leave..."),y.emit("error",e),R(e)}}),r.start(),n.start(),u=Xc({api:v,type:"main"}),s=Xc({api:v,type:"slides"}),(f=ou({api:v})).on("message",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.emit.apply(y,["message"].concat(t))})),f.on("ready",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return y.emit.apply(y,["chatready"].concat(t))})),E()}(),b=e.STATUS.kConnected,y.emit("connected")}function j(){cu("conference disconnecting"),b=e.STATUS.kDisconnecting,y.emit("disconnecting")}function R(t){cu("conference disconnected"),function(){r&&r.stop();n&&n.stop();i&&v.interceptors.request.eject(i);u&&u.terminate();s&&s.terminate();f&&f.terminate();g=void 0}(),b=e.STATUS.kDisconnected,y.emit("disconnected",t)}function E(){return P.apply(this,arguments)}function P(){return(P=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:if(!f.ready){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,f.connect().catch((function(){}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=a(regeneratorRuntime.mark((function t(){var r,n,a,u,s,f,p,w,O,j=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=j.length>0&&void 0!==j[0]?j[0]:{},cu("join()"),k(e.STATUS.kNull),r.url||r.number){t.next=5;break}throw new TypeError("Invalid Number");case 5:if(b=e.STATUS.kConnecting,x(),u=!0,r.url||!r.number){t.next=16;break}return g=v.request("getURL").data({"long-number":r.number}),t.next=12,g.send();case 12:r.url=(a=(n=t.sent).data).data.url;case 16:return s=yi.get("useragent","Yealink ".concat(uu?"WECHAT":"WEB-APP"," ","1.0.0-beta")),f=yi.get("clientinfo","".concat(uu?"Apollo_WeChat":"Apollo_WebRTC"," ","1.0.0-beta")),g=v.request(uu?"joinWechat":"joinFocus").data({"conference-url":r.url,"conference-pwd":r.password,"user-agent":s,"client-url":r.url.replace(/\w+@/g,uu?"wechat@":"webrtc@"),"client-display-text":r.displayName||"".concat(su),"client-type":"http","client-info":f,"pure-ctrl-channel":!u,"is-webrtc":!uu&&u,"is-wechat":uu,"video-session-info":uu&&{bitrate:614400,"video-width":640,"video-height":480,"frame-rate":15}}),t.prev=20,t.next=23,g.send();case 23:n=t.sent,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(20),y.emit("failed",t.t0),t.t0;case 30:if(l=(p=(a=n.data).data)["conference-uuid"],h=uu?a.data:{},(d=p["conference-user-id"])&&l){t.next=39;break}throw cu("internal error"),new Error("Internal Error");case 39:return m=r.url,i=v.interceptors.request.use((function(e){return/conference-ctrl/.test(e.url)&&"post"===e.method&&(e.data=au({"conference-user-id":d,"conference-uuid":l},e.data)),e})),g=v.request("getFullInfo"),t.prev=42,t.next=45,g.send();case 45:n=t.sent,t.next=52;break;case 48:throw t.prev=48,t.t1=t.catch(42),y.emit("failed",t.t1),t.t1;case 52:return w=(a=n.data).data,O=Ki(c),o=tc(w,O),S(),t.abrupt("return",c);case 59:case"end":return t.stop()}}),t,null,[[20,26],[42,48]])})))).apply(this,arguments)}function A(){return I.apply(this,arguments)}function I(){return(I=a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O(e.STATUS.kDisconnecting),O(e.STATUS.kDisconnected),t.t0=b,t.next=t.t0===e.STATUS.kNull?5:t.t0===e.STATUS.kConnecting?6:t.t0===e.STATUS.kConnected?6:15;break;case 5:return t.abrupt("break",16);case 6:if(b!==e.STATUS.kConnected){t.next=13;break}return j(),t.next=10,v.request("leave").send();case 10:R(),t.next=14;break;case 13:g&&(g.cancel(),R());case 14:case 15:return t.abrupt("break",16);case 16:return t.abrupt("return",c);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(e.STATUS.kConnected),t.next=3,A();case 3:return t.next=5,v.request("end").data({"conference-url":m}).send();case 5:return t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){return(D=a(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k(e.STATUS.kConnected),s.isInProgress()||s.isEstablished()){t.next=4;break}return t.next=4,s.connect(r);case 4:return t.next=6,v.request("switchShare").data({share:!0}).send();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){return(L=a(regeneratorRuntime.mark((function t(){var r,n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(n.length>0&&void 0!==n[0])||n[0],k(e.STATUS.kConnected),t.next=4,v.request("switchShare").data({share:r}).send();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(){return(M=a(regeneratorRuntime.mark((function t(r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k(e.STATUS.kConnected),f&&f.ready){t.next=3;break}throw new Error("Not Ready");case 3:return t.next=5,f.sendMessage(r,n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return c=au({},y,{get api(){return v},get url(){return m},get uuid(){return l},get userId(){return"".concat(d)},get user(){return p},get information(){return o},get description(){return o&&o.description},get state(){return o&&o.state},get view(){return o&&o.view},get users(){return o&&o.users},get rtmp(){return o&&o.rtmp},get record(){return o&&o.record},get mediaChannel(){return u},get shareChannel(){return s},get chatChannel(){return f},get trtc(){return h},join:function(){return T.apply(this,arguments)},leave:A,end:function(){return N.apply(this,arguments)},share:function(e){return D.apply(this,arguments)},setSharing:function(){return L.apply(this,arguments)},sendMessage:function(e,t){return M.apply(this,arguments)}})}function pu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.kNull=0]="kNull",e[e.kConnecting=1]="kConnecting",e[e.kConnected=2]="kConnected",e[e.kDisconnecting=3]="kDisconnecting",e[e.kDisconnected=4]="kDisconnected"}(e.STATUS||(e.STATUS={}));var du=t("MN:UA");function mu(e){var t,r,n,o,i;function c(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Bi({baseURL:yi.get("baseurl","https://meetings.ylyun.com/webapp/")});return t.interceptors.request.use((function(t){return e&&n&&(t.headers=t.headers||{},t.headers.token=n),t})),t}function u(){return s.apply(this,arguments)}function s(){return(s=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(du("auth()"),o){e.next=3;break}throw new Error("Authorization Error");case 3:return e.next=5,t.request("getVirtualJWT").params({id:o}).send();case 5:if(n=e.sent.data.data.token){e.next=9;break}throw new Error("Authorization Error");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){du("stop()"),r&&r.stop(),n=void 0}function p(){return(p=a(regeneratorRuntime.mark((function e(r){var n,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return du("fetch()"),t||(t=c(!1)),e.next=4,t.request("getURL").data({"long-number":r}).send();case 4:return o=(a=e.sent.data.data)["party-id"],i=a.url,e.prev=10,e.next=13,t.request("getBasicInfo").data({"conference-url":i}).send();case 13:n=e.sent.data.data,e.next=34;break;case 19:return e.prev=19,e.t0=e.catch(10),du("Conference not started."),e.prev=22,e.next=25,t.request("getBasicInfoOffline").data({"long-number":r}).send();case 25:n=e.sent.data.data,e.next=34;break;case 31:e.prev=31,e.t1=e.catch(22),du("Conference not exist.");case 34:if(n){e.next=36;break}throw new Error("Not Exist");case 36:return e.abrupt("return",{partyId:o,number:r,url:i,info:n});case 37:case"end":return e.stop()}}),e,null,[[10,19],[22,31]])})))).apply(this,arguments)}function l(){return(l=a(regeneratorRuntime.mark((function e(n){var s,p,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(du("connect()"),t||(t=c(!1)),r||(r=Vi({interval:3e5,work:function(){var e=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})),n.number){e.next=5;break}throw new TypeError("Invalid Number");case 5:return s=n.number,e.next=8,t.request("getURL").data({"long-number":s}).send();case 8:return o=(p=e.sent.data.data)["party-id"],i=p.url,e.next=15,r.start();case 15:return l=fu({api:c()}),d=l.join,l.join=function(e){return d(lu({url:i},n,{},e))},l.once("disconnected",f),e.abrupt("return",l);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{stop:f,fetch:function(e){return p.apply(this,arguments)},connect:function(e){return l.apply(this,arguments)}}}var gu=t("MN");function hu(){return(hu=a(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mu(),e.next=3,r.connect(t);case 3:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vu={version:"1.0.0-beta",createUA:mu,setup:function(e){wi(e),eo()&&(r.defaults.adapter=qr),t.enable(yi.get("debug","MN*,-MN:Api*,-MN:Information:Item,-MN:Worker")),gu("setup() [version]: %s","1.0.0-beta")},connect:function(e){return hu.apply(this,arguments)}};e.debug=t,e.axios=r,e.adapter=qr,e.createConference=fu,e.createEvents=ra,e.createMedia=function(){return{}},e.createReactive=la,e.createUA=mu,e.default=vu,e.paramReducer=bc,e.parse=yc,e.parseFmtpConfig=Oc,e.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(bc,{})}))},e.parseParams=wc,e.parsePayloads=function(e){return e.split(" ").map(Number)},e.parseReg=hc,e.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(gc),n=0;n<r.length;n+=3)t.push({component:r[n],ip:r[n+1],port:r[n+2]});return t},e.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=gc(e):(t=gc(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))},e.urlToNumber=function(e){var t=e.split("@"),r=t[0],n=t[1].split(".")[0];return"".concat(r,".").concat(n)},e.write=Ec}({},debug,axios);
